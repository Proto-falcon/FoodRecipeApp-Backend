(this.webpackJsonp=this.webpackJsonp||[]).push([[7],{237:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},238:function(e,t,n){"use strict";n.r(t);t.default=""},239:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return r}));var r=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"row",flexBasis:75,padding:10,justifyContent:"space-between"}})},242:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(271),s=n(0),o=n(97),a=n(10),i=n(237),l=n(108),c=n(38),u=n.n(c),d=n(29),f=n(111),j=n(109),b=n(110),g=n(238),h=n(25);function y(){var e=Object(s.useContext)(b.CsrfCtx),t=Object(s.useContext)(l.AccountCtx),n=Object(d.useNavigation)();function r(){return(r=u()((function*(){var r=yield f.default.get(g.default+"/api/logout/"),s=yield r.data;s.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(s.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(h.jsx)(j.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Sign Out"})})}var O=n(241),m=n(239);function p(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"Search"},style:m.SearchStyle.imgContainer,children:Object(h.jsx)(O.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function x(e){var t=Object(s.useContext)(l.AccountCtx);function n(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"Login",params:{toLogin:!0}},style:i.styles.navLink,children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Login"})}):void 0}function c(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:i.styles.navLink,children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Sign Up"})}):void 0}return Object(h.jsxs)(a.default,{style:e.style,children:[Object(h.jsxs)(a.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.show?Object(h.jsx)(r.default,{style:i.styles.navLink,to:{screen:"Home"},children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Home"})}):void 0}),{show:"Home"!==e.routeName}),Object(h.jsx)((function(e){if(e.isLoggedIn&&"Profile"!==e.route)return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.default,{style:i.styles.navLink,to:{screen:"Profile"},children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Profile"})}),Object(h.jsxs)(o.default,{style:i.styles.usernameText,children:["Username: ",t.username]})]})}),{isLoggedIn:t.loggedIn,route:e.routeName})]}),Object(h.jsxs)(a.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.isLoggedIn?Object(h.jsx)(y,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n,{show:"Login"!==e.route}),Object(h.jsx)(c,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(h.jsx)(p,{show:"Search"!==e.routeName})]})]})}},248:function(e,t,n){"use strict";n.r(t),n.d(t,"FormStyle",(function(){return r}));var r=n(9).default.create({formInput:{padding:5,marginTop:10,borderWidth:2,borderRadius:20},formLabel:{marginRight:10,textAlign:"left",fontWeight:"bold"},submitButton:{padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00"}})},272:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var r=n(7),s=n.n(r),o=n(38),a=n.n(o),i=n(8),l=n.n(i),c=n(111),u=n(0),d=n(112),f=n(14),j=n(109),b=n(97),g=n(243),h=n(10),y=n(237),O=n(248),m=n(238),p=n(110),x=n(108),S=n(242),v=n(240),w=n(25);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Object(u.lazy)((function(){return n.e(14).then(n.bind(null,249))})),P=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,268))})),T=Object(u.lazy)((function(){return n.e(12).then(n.bind(null,269))})),z=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function I(e){var t=e.route,n=e.navigation,r=Object(u.useContext)(p.CsrfCtx),s=Object(u.useContext)(x.AccountCtx),o=Object(u.useState)(t.params.toLogin),i=l()(o,2),C=i[0],I=(i[1],Object(u.useState)("")),A=l()(I,2),F=A[0],U=A[1],W=Object(u.useState)(""),H=l()(W,2),N=H[0],D=H[1],E=Object(u.useState)(""),R=l()(E,2),B=R[0],Z=R[1],M=Object(u.useState)(!0),J=l()(M,2),X=J[0],$=J[1],q=Object(u.useState)(""),G=l()(q,2),K=G[0],Q=G[1],V=Object(u.useState)(!0),Y=l()(V,2),_=Y[0],ee=(Y[1],Object(u.useState)(Object(g.default)().width)),te=l()(ee,2),ne=te[0],re=(te[1],Object(u.useState)({width:"25%",minWidth:"25%",maxWidth:"25%"})),se=l()(re,2),oe=se[0],ae=se[1];function ie(){return le.apply(this,arguments)}function le(){return(le=a()((function*(){if(C&&(F.length<=0||B<=0))Q("Please fill all the fields/ enter corretly."),$(!1);else if(!C&&(F.length<=0||N.length<=0||B<=0))Q("Please fill all the fields/ enter corretly."),$(!1);else{$(!0);var e="post",t="signup/";C&&(e="put",t="login/");try{var o=yield Object(c.default)({method:e,headers:{"X-CSRFToken":r.token,credentials:"include"},withCredentials:!0,url:m.default+"/api/"+t,responseType:"json",data:{username:F,email:N,password:B}}),a=yield o.data;a.signUpSuccess?(s.login(),s.setUsername(F),s.setEmail(N),n.navigate("Home")):a.loginSuccess&&(s.login(),s.setUsername(a.user.username),s.setEmail(a.user.email),n.navigate("Home"))}catch(i){Q(i.response.data.message),$(!1)}}}))).apply(this,arguments)}return Object(u.useEffect)((function(){s.checkCred(r,m.default),ne<700&&ae({width:"50%",minWidth:"50%",maxWidth:"50%"})}),[_]),Object(w.jsxs)(h.default,{style:y.styles.pageContainer,children:[Object(w.jsx)(S.default,{routeName:t.name,style:L(L({},v.NavBarStyle.container),{},{alignItems:"web"===f.default.OS?"center":"flex-end"})}),Object(w.jsx)(h.default,{style:{paddingTop:"5%",alignItems:"center"},children:Object(w.jsxs)(u.Suspense,{fallback:Object(w.jsx)(d.default,{size:"large"}),children:[Object(w.jsx)(T,{toLogin:C,usernameHandler:function(e){e.length>50?($(!1),Q("Username too long")):($(!0),U(e))},emailHandler:function(e){null!=e.match(z)?D(e):D("")},containerStyle:oe,labelStyle:O.FormStyle.formLabel,inputStyle:L(L({},O.FormStyle.formInput),{},{borderColor:X?"black":"red"})}),Object(w.jsx)(k,{label:"Password:",placeholder:"Please enter password:",isPassword:!0,onChangeTextHandler:function(e){Z(e)},containerStyle:oe,labelStyle:O.FormStyle.formLabel,inputStyle:L(L({},O.FormStyle.formInput),{},{borderColor:X?"black":"red"})}),Object(w.jsx)((function(){return Object(w.jsx)(j.default,{style:O.FormStyle.submitButton,onPress:ie,children:Object(w.jsx)(b.default,{style:{fontWeight:"bold"},children:C?"Login":"Sign Up"})})}),{}),Object(w.jsx)(P,{hasError:!X,style:y.styles.errorMsg,message:K})]})})]})}}}]);
//# sourceMappingURL=7.c13b0a67.chunk.js.map