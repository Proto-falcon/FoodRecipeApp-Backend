{"version":3,"sources":["src/AppStyles.js","src/ipaddressesports/BackEndIP.js","src/pages/Search/SearchStyle.js","src/components/NavBar/NavBarStyle.js","src/components/Buttons/LogOutButton.js","src/components/Buttons/SearchButton.js","src/components/NavBar/NavBar.js","src/pages/Profile/ProfileStyles.js","src/pages/Search/Search.js"],"names":["styles","StyleSheet","create","searchIcon","height","width","resizeMode","marginRight","navLink","padding","navText","color","fontSize","fontWeight","marginLeft","usernameText","marginTop","pageContainer","flex","backgroundColor","errorMsg","borderRadius","BACKEND","SearchStyle","container","alignItems","imgContainer","margin","NavBarStyle","flexDirection","flexBasis","justifyContent","LogOutButton","tokenCtx","useContext","CsrfCtx","accCtx","AccountCtx","navigation","useNavigation","response","axios","get","content","data","loggedOut","logOut","setUsername","setEmail","setCsrfToken","token","navigate","Pressable","style","onPress","Text","SearchButton","show","Link","to","screen","icon","size","NavBar","props","LoginButton","params","toLogin","SignUpButton","platformStyles","Platform","OS","maxHeight","minHeight","View","paddingTop","loggedIn","username","useWindowDimensions","routeName","isLoggedIn","route","profileStyles","userField","textAlign","submitButton","recentRecipes","borderTopWidth","flexWrap","subHeader","RecipeList","lazy","WrappingItems","Search","ctx","RecipeResultsCtx","csrfCtx","useState","isMounted","NoMoreRecipes","name","setRecentRecipes","ratedRecipes","setRatedRecipes","recommendRecipes","setRecommendRecipes","results","recipes","setRecipes","recipeListName","setRecipeListName","type","buttons","setButtons","getRecipeResults","apiEndPoint","setData","defaultRecipes","length","error","useEffect","setIsLoading","isLoading","checkCred","fallback","items","renderItems","item","index","toRecipes","title","addRecipes","recipeLink","moreRecipesLink"],"mappings":"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","file":"static/js/10.1e74fa77.chunk.js","sourcesContent":["import { StyleSheet } from \"react-native\";\r\n\r\nexport const styles = StyleSheet.create({\r\n\tsearchIcon: {\r\n\t\theight: 20,\r\n\t\twidth: 20,\r\n\t\tresizeMode: \"contain\",\r\n\t\tmarginRight: 10\r\n\t},\r\n\r\n\tnavLink: {\r\n\t\tpadding: 5\r\n\t},\r\n\r\n\tnavText: {\r\n\t\tcolor: \"white\",\r\n\t\tfontSize: 18,\r\n\t\tfontWeight: \"500\",\r\n\t\tmarginLeft: 10,\r\n\t},\r\n\r\n\tusernameText: {\r\n\t\tcolor: \"black\",\r\n\t\tfontSize: 20,\r\n\t\tfontWeight: \"bold\",\r\n\t\tmarginLeft: 10,\r\n\t\tmarginTop: 5\r\n\t},\r\n\r\n\tpageContainer: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: \"#ffffff\"\r\n\t},\r\n\r\n\terrorMsg: {\r\n\t\tcolor: \"white\",\r\n\t\tbackgroundColor: \"red\",\r\n\t\tpadding: 10,\r\n\t\tfontWeight: \"bold\",\r\n\t\tfontSize: 20,\r\n\t\tborderRadius: 20,\r\n\t},\r\n});","const BACKENDLOCAL = \"http://localhost:8000\";\r\nconst BACKENDIPHOME = \"http://192.168.0.30:8000\";\r\nlet domain = \"\";\r\nif (__DEV__) {\r\n\tdomain = BACKENDIPHOME;\r\n}\r\nconst BACKEND = domain;\r\nexport default BACKEND;","import { StyleSheet } from \"react-native\";\r\n\r\nexport const SearchStyle = StyleSheet.create(\r\n    {\r\n        container: {\r\n            alignItems: \"center\",\r\n        },\r\n\r\n        imgContainer: {\r\n            margin: 7\r\n        },\r\n    });","import { StyleSheet } from \"react-native\";\r\n\r\nexport const NavBarStyle = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tbackgroundColor: \"#fd5d00\",\r\n\t\tflexDirection: \"column\",\r\n\t\tflexBasis: 75,\r\n\t\tpadding: 10,\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"flex-start\"\r\n\t},\r\n});\r\n","import { useNavigation } from \"@react-navigation/native\";\r\nimport axios from \"axios\";\r\nimport { useContext } from \"react\";\r\nimport { Pressable, Text } from \"react-native\";\r\nimport { styles } from \"../../AppStyles\";\r\nimport { AccountCtx } from \"../../context/account\";\r\nimport { CsrfCtx } from \"../../context/CsrfToken\";\r\nimport BACKEND from \"../../ipaddressesports/BackEndIP\";\r\n\r\n/**\r\n * Renders the Logout Button\r\n *\r\n * @returns Logut Button\r\n */\r\nexport default function LogOutButton() {\r\n\tconst tokenCtx = useContext(CsrfCtx);\r\n\tconst accCtx = useContext(AccountCtx);\r\n\tconst navigation = useNavigation();\r\n\r\n\t/**\r\n\t * Logs the user out from the backend server `session`.\r\n\t */\r\n\tasync function LogOutHandler() {\r\n\t\tlet response = await axios.get(`${BACKEND}/api/logout/`);\r\n\t\tlet content = await response.data;\r\n\r\n\t\tif (content.loggedOut) {\r\n\t\t\taccCtx.logOut();\r\n\t\t\taccCtx.setUsername(\"\");\r\n\t\t\taccCtx.setEmail(\"\");\r\n\t\t\ttokenCtx.setCsrfToken(content.token);\r\n\t\t\tnavigation.navigate(\"Home\");\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={{ padding: 5 }}\r\n\t\t\tonPress={LogOutHandler}\r\n\t\t>\r\n\t\t\t<Text style={styles.navText}>Sign Out</Text>\r\n\t\t</Pressable>\r\n\t);\r\n}\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\r\nimport { Link } from \"@react-navigation/native\";\r\nimport { SearchStyle } from \"../../pages/Search/SearchStyle\";\r\n\r\n/**\r\n * Renders the Search Button\r\n * \r\n * @param {{ show: boolean }} props\r\n * \r\n * @returns Button that links to the Search Options page\r\n */\r\nexport default function SearchButton({ show }) {\r\n\r\n\tif (show) {\r\n\t\treturn (\r\n\t\t\t<Link\r\n\t\t\t\tto={{ screen: \"Search\" }}\r\n\t\t\t\tstyle={SearchStyle.imgContainer}\r\n\t\t\t>\r\n\t\t\t\t<FontAwesomeIcon icon={\"magnifying-glass\"} size={20} />\r\n\t\t\t</Link>\r\n\t\t);\r\n\t} else {\r\n\t\treturn undefined;\r\n\t}\r\n\t\r\n}\r\n","import { Link } from \"@react-navigation/native\";\r\nimport { useContext } from \"react\";\r\nimport { Platform, Text, View, useWindowDimensions } from \"react-native\";\r\nimport { styles } from \"../../AppStyles\";\r\nimport { AccountCtx } from \"../../context/account\";\r\nimport LogOutButton from \"../Buttons/LogOutButton\";\r\nimport SearchButton from \"../Buttons/SearchButton\";\r\n\r\n/**\r\n * Renders a NavBar\r\n *\r\n * @param {{\r\n * \t\tstyle?: any,\r\n * \t\trouteName: string,\r\n * }} props\r\n * @returns Row of buttons that facilitate in navigating the application\r\n */\r\nexport default function NavBar(props) {\r\n\tconst accCtx = useContext(AccountCtx);\r\n\t\r\n\r\n\t/**\r\n\t * Renders the login Button\r\n\t *\r\n\t * @param {{show: boolean}} props\r\n\t * @returns Login button when `show` is true, none otherwise\r\n\t */\r\n\tfunction LoginButton({ show }) {\r\n\t\tif (show) {\r\n\t\t\treturn (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={{ screen: \"Login\", params: { toLogin: true } }}\r\n\t\t\t\t\tstyle={styles.navLink}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text style={styles.navText}>Login</Text>\r\n\t\t\t\t</Link>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the Sign up Button\r\n\t * \r\n\t * @param {{show: boolean}} props \r\n\t * @returns Sign up button when `show` is true, none otherwise\r\n\t */\r\n\tfunction SignUpButton({ show }) {\r\n\t\tif (show) {\r\n\t\t\treturn (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={{ screen: \"SignUp\", params: { toLogin: false } }}\r\n\t\t\t\t\tstyle={styles.navLink}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text style={styles.navText}>Sign Up</Text>\r\n\t\t\t\t</Link>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the Login & Sign up buttons when not logged or\r\n\t * Sign out button when logged in\r\n\t *\r\n\t * @param {{\r\n\t * \t\tisLoggedIn: boolean,\r\n\t * \t\troute: string\r\n\t * }} props\r\n\t * @returns {JSX.Element} Login & signup when `isLoggedIn` `true` or\r\n\t * sign out for otherwise\r\n\t */\r\n\tfunction SignInOrOut(props) {\r\n\t\tif (!props.isLoggedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<LoginButton show={props.route !== \"Login\"} />\r\n\t\t\t\t\t<SignUpButton show={props.route !== \"SignUp\"} />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn <LogOutButton />;\r\n\t\t}\r\n\t}\r\n\r\n\tconst platformStyles = Platform.OS !== \"web\" ? {\r\n\t\t// flex: 1,\r\n\t\tmaxHeight: 100, minHeight:100\r\n\t} : {};\r\n\r\n\treturn (\r\n\t\t<View style={{...props.style, paddingTop: Platform.OS === \"web\" ? 10 : 40, ...platformStyles}}>\r\n\t\t\t<View>\r\n\t\t\t\t{accCtx.loggedIn && <Text style={styles.usernameText}>\r\n\t\t\t\t\tUsername: {accCtx.username}\r\n\t\t\t\t</Text>}\r\n\t\t\t</View>\r\n\t\t\t<View style={{flexDirection:\"row\"}}>\r\n\t\t\t\t<View style={{ flexDirection: \"row\", width: useWindowDimensions().width*0.5}}>\r\n\t\t\t\t\t{props.routeName !== \"Home\" &&\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tstyle={styles.navLink}\r\n\t\t\t\t\t\t\tto={{ screen: \"Home\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Text style={styles.navText}>Home</Text>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{accCtx.loggedIn && props.routeName !== \"Profile\" &&\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tstyle={styles.navLink}\r\n\t\t\t\t\t\tto={{ screen: \"Profile\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Text style={styles.navText}>Profile</Text>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={{ flexDirection: \"row\", justifyContent: \"flex-end\", width:useWindowDimensions().width*0.48}}>\r\n\t\t\t\t\t<SignInOrOut isLoggedIn={accCtx.loggedIn} route={props.routeName} />\r\n\t\t\t\t\t<SearchButton show={props.routeName !== \"Search\"} />\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n}\r\n","import { StyleSheet } from \"react-native\";\r\n\r\nexport const profileStyles = StyleSheet.create({\r\n\tuserField: {\r\n\t\ttextAlign: \"center\",\r\n\t\tfontSize: 25,\r\n\t},\r\n\r\n\tsubmitButton: {\r\n\t\tbackgroundColor: \"#ff9100\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tpadding: 10,\r\n\t\tmargin: 10,\r\n\t\tborderRadius: 15,\r\n\t\tbackgroundColor: \"#fd5d00\",\r\n\t\twidth: 150,\r\n\t},\r\n\r\n\trecentRecipes: {\r\n\t\tborderTopWidth: 2,\r\n\t\tflexDirection: \"row\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"center\"\r\n\t},\r\n\r\n\tsubHeader: {\r\n\t\twidth: 160,\r\n\t\tfontSize: 20,\r\n\t\tfontWeight: \"bold\",\r\n\t\ttextAlign: \"center\",\r\n\t\tpadding: 10\r\n\t},\r\n\t\r\n});\r\n","import { lazy, Suspense, useContext, useEffect, useState } from \"react\";\r\nimport { ActivityIndicator, Platform, Pressable, Text, useWindowDimensions, View } from \"react-native\";\r\nimport { RecipeResultsCtx } from \"../../context/Context\";\r\nimport { SearchStyle } from \"./SearchStyle\";\r\nimport { styles } from \"../../AppStyles\";\r\nimport { CsrfCtx } from \"../../context/CsrfToken\";\r\nimport { AccountCtx } from \"../../context/account\";\r\nimport BACKEND from \"../../ipaddressesports/BackEndIP\";\r\nimport { NavBarStyle } from \"../../components/NavBar/NavBarStyle\";\r\nimport NavBar from \"../../components/NavBar/NavBar\";\r\nimport { NoMoreRecipes } from \"../../Constants\";\r\nimport axios from \"axios\";\r\nimport { profileStyles } from \"../Profile/ProfileStyles\";\r\nconst RecipeList = lazy(() => import(\"../../components/RecipeList/RecipeList\"));\r\nconst WrappingItems = lazy(() => import(\"../../components/WrappingItems/WrappingItems\"));\r\n\r\n/**\r\n * Renders the page with recipe results depending on\r\n * the options selected in Search Options page\r\n *\r\n * @returns Search Results Page\r\n */\r\nexport default function Search({ route, navigation }) {\r\n\tconst ctx = useContext(RecipeResultsCtx);\r\n\tconst csrfCtx = useContext(CsrfCtx);\r\n\tconst accCtx = useContext(AccountCtx);\r\n\r\n\tconst [isMounted, setIsMounted] = useState(true);\r\n\r\n\tconst [recentRecipes, setRecentRecipes] = useState([{...NoMoreRecipes, name: \"No recipes viewd Yet\"}]);\r\n\tconst [ratedRecipes, setRatedRecipes] = useState([{...NoMoreRecipes, name: \"No recipes rated Yet\"}]);\r\n\tconst [recommendRecipes, setRecommendRecipes] = useState([{...NoMoreRecipes, name: \"No recipes rated Yet\"}]);\r\n\r\n\tconst [recipes, setRecipes] = useState(ctx.results);\r\n\tconst [recipeListName, setRecipeListName] = useState(\"recommend\");\r\n\tconst [buttons, setButtons] = useState(\r\n\t\t[\r\n\t\t\t{recipes:ctx.results, type:\"Search Results\"}\r\n\t\t]\r\n\t);\r\n\r\n\tuseEffect(() => ctx.setIsLoading(false), [ctx.isLoading]);\r\n\r\n\t// Checks the user has logged in when the app boots up\r\n\tuseEffect(() => {\r\n\t\taccCtx.checkCred(csrfCtx, BACKEND);\r\n\t}, [isMounted, ctx.isLoading, route.name]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (accCtx.loggedIn) {\r\n\t\t\tgetRecipeResults(\"getRecentRecipes/\", setRecentRecipes, [{...NoMoreRecipes, name: \"No recipes viewd Yet\"}]);\r\n\t\t\tgetRecipeResults(\"getMostRatedRecipes/\", setRatedRecipes, [{...NoMoreRecipes, name: \"No recipes rated Yet\"}]);\r\n\t\t\tgetRecipeResults(\"recommend/\", setRecommendRecipes, [{...NoMoreRecipes, name: \"No recipes rated Yet\"}]);\r\n\r\n\t\t\tsetRecipes(recommendRecipes);\r\n\t\t\tsetButtons(\r\n\t\t\t\t[\r\n\t\t\t\t\t{recipes:ctx.results, type:\"Search Results\"},\r\n\t\t\t\t\t{recipes:recommendRecipes, type:\"recommend\"},\r\n\t\t\t\t\t{recipes:recentRecipes, type:\"recent\"},\r\n\t\t\t\t\t{recipes:ratedRecipes, type:\"rated\"},\r\n\t\t\t\t]\r\n\t\t\t);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetRecipes(ctx.results);\r\n\t\t\tsetButtons(\r\n\t\t\t\t[\r\n\t\t\t\t\t{recipes:ctx.results, type:\"Search Results\"}\r\n\t\t\t\t]\r\n\t\t\t);\r\n\t\t}\r\n\t}, [isMounted, accCtx.loggedIn])\r\n\r\n\t/**\r\n\t * Gets an array of recipe results from backend given an api endpoint and\r\n\t * updates a state given a `React.Dispatch<React.SetStateAction<recipe[]>>`.\r\n\t * \r\n\t * @param {string} apiEndPoint \r\n\t * @param {React.Dispatch<React.SetStateAction<import(\"../../Constants\").recipe[]>>} setData \r\n\t * @param {import(\"../../Constants\").recipe[]} defaultRecipes\r\n\t */\r\n\tasync function getRecipeResults(apiEndPoint, setData, defaultRecipes) {\r\n\t\ttry {\r\n\t\t\tlet response = await axios.get(`${BACKEND}/api/${apiEndPoint}`);\r\n\t\t\tlet content = await response.data;\r\n\r\n\t\t\tif (content[\"results\"].length <= 0) {\r\n\t\t\t\tsetData(defaultRecipes);\r\n\t\t\t} else {\r\n\t\t\t\tsetData(content[\"results\"]);\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\t/**\r\n\t * Instantly changes to different list of recipes.\r\n\t * \r\n\t * @param {import(\"../../Constants\").recipe[]} toRecipes \r\n\t * @param {string} title \r\n\t */\r\n\tfunction changeRecipes(toRecipes, title) {\r\n\t\tsetRecipes(toRecipes);\r\n\t\tsetRecipeListName(title);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Render button to change recipe lists\r\n\t * \r\n\t * @param {{\r\n\t * \t\titem : {recipes: import(\"../../Constants\").recipe[], type: string},\r\n\t * \t\tindex : number\r\n\t * }} param\r\n\t * @returns Button to change recipe list\r\n\t */\r\n\tfunction renderButtons({item, index}) {\r\n\r\n\t\tlet chosenStyle = {\r\n\t\t\tbackgroundColor: \"#0098ff\",\r\n\t\t\tcolor: \"#ffffff\",\r\n\t\t\tborderRadius: 10\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<Pressable key={index} onPress={() => changeRecipes(item.recipes, item.type)} style={{borderRadius: 10}}>\r\n\t\t\t\t<Text style={ recipeListName === item.type ? {...profileStyles.subHeader, ...chosenStyle }\r\n\t\t\t\t: {...profileStyles.subHeader }}>\r\n\t\t\t\t\t{item.type}\r\n\t\t\t\t</Text>\r\n\t\t\t</Pressable>\r\n\t\t);\r\n\t}\r\n\r\n\t\r\n\treturn (\r\n\t\t<View style={styles.pageContainer}>\r\n\t\t\t<NavBar\r\n\t\t\t\trouteName={route.name}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...NavBarStyle.container,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<Suspense fallback={<ActivityIndicator size=\"large\" />}>\r\n\t\t\t\t<View\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t...SearchStyle.container,\r\n\t\t\t\t\t\theight: useWindowDimensions().height * 0.7\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<WrappingItems\r\n\t\t\t\t\t\tstyle={{justifyContent: \"space-evenly\"}}\r\n\t\t\t\t\t\titems={buttons}\r\n\t\t\t\t\t\trenderItems={renderButtons}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{!ctx.isLoading && (\r\n\t\t\t\t\t\t<RecipeList\r\n\t\t\t\t\t\t\trecipes={recipes}\r\n\t\t\t\t\t\t\tsetData={ctx.addRecipes}\r\n\t\t\t\t\t\t\trecipeLink={ctx.moreRecipesLink}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</View>\r\n\t\t\t</Suspense>\r\n\t\t</View>\r\n\t);\r\n}\r\n"],"sourceRoot":""}