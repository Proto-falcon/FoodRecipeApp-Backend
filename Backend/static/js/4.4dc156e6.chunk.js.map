{"version":3,"sources":["src/components/Buttons/LogOutButton.js"],"names":["LogOutButton","tokenCtx","useContext","CsrfCtx","accCtx","AccountCtx","navigation","useNavigation","response","axios","get","BACKEND","content","data","loggedOut","setLoginStatus","setUsername","setEmail","setCsrfToken","token","navigate","style","padding","onPress","styles","navText"],"mappings":"6OAce,SAASA,IACvB,IAAMC,EAAWC,qBAAWC,WACtBC,EAASF,qBAAWG,cACpBC,EAAaC,0BAKS,aAW3B,OAX2B,OAA5B,YACC,IAAIC,QAAiBC,UAAMC,IAAOC,UAAO,gBACrCC,QAAgBJ,EAASK,KAEzBD,EAAQE,YACXV,EAAOW,gBAAe,GACtBX,EAAOY,YAAY,IACnBZ,EAAOa,SAAS,IAChBhB,EAASiB,aAAaN,EAAQO,OAC9Bb,EAAWc,SAAS,aAErB,sBAED,OACC,cAAC,UAAS,CACTC,MAAO,CAAEC,QAAS,GAClBC,QArBiC,WAKP,gCAgBH,SAEvB,cAAC,UAAI,CAACF,MAAOG,SAAOC,QAAQ","file":"static/js/4.4dc156e6.chunk.js","sourcesContent":["import { useNavigation } from \"@react-navigation/native\";\r\nimport axios from \"axios\";\r\nimport { useContext } from \"react\";\r\nimport { Pressable, Text } from \"react-native\";\r\nimport { styles } from \"../../AppStyles\";\r\nimport { AccountCtx } from \"../../context/account\";\r\nimport { CsrfCtx } from \"../../context/CsrfToken\";\r\nimport BACKEND from \"../../ipaddressesports/BackEndIP\";\r\n\r\n/**\r\n * Renders the Logout Button\r\n *\r\n * @returns Logut Button\r\n */\r\nexport default function LogOutButton() {\r\n\tconst tokenCtx = useContext(CsrfCtx);\r\n\tconst accCtx = useContext(AccountCtx);\r\n\tconst navigation = useNavigation();\r\n\r\n\t/**\r\n\t * Logs the user out from the backend server `session`.\r\n\t */\r\n\tasync function LogOutHandler() {\r\n\t\tlet response = await axios.get(`${BACKEND}/api/logout/`);\r\n\t\tlet content = await response.data;\r\n\r\n\t\tif (content.loggedOut) {\r\n\t\t\taccCtx.setLoginStatus(false);\r\n\t\t\taccCtx.setUsername(\"\");\r\n\t\t\taccCtx.setEmail(\"\");\r\n\t\t\ttokenCtx.setCsrfToken(content.token);\r\n\t\t\tnavigation.navigate(\"Home\");\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={{ padding: 5 }}\r\n\t\t\tonPress={LogOutHandler}\r\n\t\t>\r\n\t\t\t<Text style={styles.navText}>Sign Out</Text>\r\n\t\t</Pressable>\r\n\t);\r\n}\r\n"],"sourceRoot":""}