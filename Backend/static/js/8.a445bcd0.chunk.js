(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{236:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},237:function(e,t,n){"use strict";n.r(t);t.default=""},238:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},239:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return r}));var r=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"row",flexBasis:75,padding:10,justifyContent:"space-between",alignItems:"center"}})},240:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(270),i=n(0),o=n(97),s=n(10),a=n(236),c=n(108),l=n(38),d=n.n(l),u=n(29),f=n(111),h=n(109),g=n(110),j=n(237),b=n(25);function p(){var e=Object(i.useContext)(g.CsrfCtx),t=Object(i.useContext)(c.AccountCtx),n=Object(u.useNavigation)();function r(){return(r=d()((function*(){var r=yield f.default.get(j.default+"/api/logout/"),i=yield r.data;i.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(i.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(b.jsx)(h.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(b.jsx)(o.default,{style:a.styles.navText,children:"Sign Out"})})}var y=n(242),O=n(238);function x(e){return e.show?Object(b.jsx)(r.default,{to:{screen:"Search"},style:O.SearchStyle.imgContainer,children:Object(b.jsx)(y.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function m(e){var t=Object(i.useContext)(c.AccountCtx);function n(e){return e.show?Object(b.jsx)(r.default,{to:{screen:"Login",params:{toLogin:!0}},style:a.styles.navLink,children:Object(b.jsx)(o.default,{style:a.styles.navText,children:"Login"})}):void 0}function l(e){return e.show?Object(b.jsx)(r.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:a.styles.navLink,children:Object(b.jsx)(o.default,{style:a.styles.navText,children:"Sign Up"})}):void 0}return Object(b.jsxs)(s.default,{style:e.style,children:[Object(b.jsxs)(s.default,{style:{flexDirection:"row"},children:[Object(b.jsx)((function(e){return e.show?Object(b.jsx)(r.default,{style:a.styles.navLink,to:{screen:"Home"},children:Object(b.jsx)(o.default,{style:a.styles.navText,children:"Home"})}):void 0}),{show:"Home"!==e.routeName}),Object(b.jsx)((function(e){if(e.isLoggedIn&&"Profile"!==e.route)return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.default,{style:a.styles.navLink,to:{screen:"Profile"},children:Object(b.jsx)(o.default,{style:a.styles.navText,children:"Profile"})}),Object(b.jsxs)(o.default,{style:a.styles.usernameText,children:["Username: ",t.username]})]})}),{isLoggedIn:t.loggedIn,route:e.routeName})]}),Object(b.jsxs)(s.default,{style:{flexDirection:"row"},children:[Object(b.jsx)((function(e){return e.isLoggedIn?Object(b.jsx)(p,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(n,{show:"Login"!==e.route}),Object(b.jsx)(l,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(b.jsx)(x,{show:"Search"!==e.routeName})]})]})}},251:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchOptionsStyle",(function(){return r}));var r=n(9).default.create({container:{flex:1,alignItems:"center",paddingTop:10,marginLeft:"auto",marginRight:"auto"},textButtonContainer:{flexDirection:"row",justifyContent:"center",flexBasis:50,maxHeight:50},searchIcon:{height:25,marginTop:7,width:"100%",resizeMode:"contain"},imgContainer:{flexBasis:20,height:30,justifyContent:"center",paddingTop:10},input:{height:40,marginLeft:10,padding:15,paddingBottom:10,borderColor:"black",borderWidth:1,borderRadius:20},exclude:{flexDirection:"row",padding:5,paddingLeft:7,marginLeft:5,marginTop:5,marginBottom:5,backgroundColor:"#ff5c5c",borderRadius:10},excludedHeader:{fontWeight:"bold",fontSize:20,textAlign:"center"},excludeList:{paddingLeft:5,justifyContent:"center"},excluded:{width:"100%",borderTopWidth:2,borderLeftWidth:2,borderRightWidth:2},optionsContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",minWidth:400,width:"30%"},optionTypesContainer:{borderWidth:2,marginBottom:5,height:99},optionTypes:{width:100,backgroundColor:"#ff9100",alignItems:"center"},text:{textAlign:"center",padding:5},optionTypeHeader:{backgroundColor:"#ffee00",fontWeight:"bold"},selectedMetaText:{fontSize:25},selectedOptionsContainer:{height:"80%",minHeight:"80%",maxHeight:"80%",borderWidth:2,marginBottom:5}})},276:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n(17),i=n.n(r),o=n(38),s=n.n(o),a=n(7),c=n.n(a),l=n(8),d=n.n(l),u=n(111),f=n(0),h=n(112),g=n(113),j=n(109),b=n(97),p=n(243),y=n(241),O=n(10),x=n(236),m=n(251),S=n(242),v=n(108),w=n(110),C=n(116),k={diet:["balanced","high-fiber","high-protein","low-carb","low-fat","low-sodium"],health:["alcohol-cocktail","alcohol-free","celery-free","crustacean-free","dairy-free","DASH","egg-free","fish-free","fodmap-free","gluten-free","immuno-supportive","keto-friendly","kidney-friendly","kosher","low-potassium","low-sugar","lupine-free","Mediterranean","mollusk-free","mustard-free","No-oil-added","paleo","peanut-free","pecatarian","pork-free","red-meat-free","sesame-free","shellfish-free","soy-free","sugar-conscious","sulfite-free","tree-nut-free","vegan","vegetarian","wheat-free"],mealType:["breakfast","brunch","lunch/dinner","snack","teatime"],dishType:["alcohol cocktail","biscuits and cookies","bread","cereals","condiments and sauces","desserts","drinks","egg","ice cream and custard","main course","pancake","pasta","pastry","pies and tarts","pizza","preps","preserve","salad","sandwiches","seafood","side dish","soup","special occasions","starter"],cuisineType:["american","asian","british","caribbean","central europe","eastern europe","chinese","french","greek","indian","italian","japanese","korean","kosher","mediterranean","mexican","middle eastern","nordic","south american","south east asia","world"]},T=n(237),L=n(239),I=n(240),z=n(25);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=Object(f.lazy)((function(){return n.e(15).then(n.bind(null,278))})),B=Object(f.lazy)((function(){return n.e(1).then(n.bind(null,267))})),E=Object(f.lazy)((function(){return n.e(17).then(n.bind(null,273))})),H=Object(f.lazy)((function(){return n.e(18).then(n.bind(null,253))}));function A(e){var t=e.route,n=e.navigation,r=Object(f.useContext)(C.RecipeResultsCtx),o=Object(f.useContext)(v.AccountCtx),a=Object(f.useContext)(w.CsrfCtx),c=Object(f.useState)(Object(y.default)().width),l=d()(c,2),P=l[0],A=(l[1],Object(f.useState)({diet:[],health:[],cuisineType:[],mealType:[],dishType:[]})),R=d()(A,2),N=R[0],F=R[1],M=Object(f.useState)((function(){var e=[];for(var t in N)e.push(t);return e})),U=d()(M,2),J=U[0],q=(U[1],Object(f.useState)(J[0])),G=d()(q,2),K=G[0],Q=G[1],V=Object(f.useState)(""),X=d()(V,2),Y=X[0],Z=X[1],$=Object(f.useState)(""),_=d()($,2),ee=_[0],te=_[1],ne=Object(f.useState)([]),re=d()(ne,2),ie=re[0],oe=re[1],se=Object(f.useState)(!1),ae=d()(se,2),ce=ae[0],le=ae[1],de=Object(f.useState)(""),ue=d()(de,2),fe=ue[0],he=ue[1],ge=Object(f.useState)(!0),je=d()(ge,2),be=je[0];je[1];function pe(){var e=0;for(var t in N)N[t].length<=0&&(e+=1);return e>=J.length}function ye(){return Oe.apply(this,arguments)}function Oe(){return(Oe=s()((function*(){if(Y.length<=0&&pe()&&ie.length<=0)return le(!0),void he("Please enter food name/ingredients");le(!1);var e="";if(!pe()){var t=function(t){e.length>0&&N[t].length>0&&(e+="&"),N[t].forEach((function(n,r){e+=t+"="+n,r<N[t].length-1&&(e+="&")})),1};for(var i in N)t(i)}ie.length>0&&(e.length>0&&(e+="&"),ie.forEach((function(t,n){e+="excluded="+t.trim(),n<ie.length-1&&(e+="&")}))),Y.trim().length>0&&(e.length>0&&(e+="&"),e+="ingredients="+Y.trim());try{var o=yield Object(u.default)({method:"get",url:T.default+"/api/fetchRecipes/?"+e,responseType:"json"}),s=yield o.data;r.getRecipes(s.results),r.setAddRecipesLink(s.addRecipesLink),r.setIsLoading(!0),n.navigate("Home")}catch(a){le(!0),he("Unable to retrieve any recipes")}}))).apply(this,arguments)}function xe(){""!==ee&&(oe((function(e){return[].concat(i()(e),[ee])})),te(""))}return Object(f.useEffect)((function(){o.checkCred(a,T.default)}),[be]),Object(z.jsxs)(O.default,{style:x.styles.pageContainer,children:[Object(z.jsx)(I.default,{routeName:t.name,style:L.NavBarStyle.container}),Object(z.jsx)(f.Suspense,{fallback:Object(z.jsx)(h.default,{size:"large"}),children:Object(z.jsxs)(O.default,{style:W(W({},m.SearchOptionsStyle.container),{},{width:P,height:Object(y.default)().height}),children:[Object(z.jsxs)(O.default,{style:W(W({},m.SearchOptionsStyle.textButtonContainer),{},{width:.7*P}),children:[Object(z.jsx)(j.default,{style:m.SearchOptionsStyle.imgContainer,onPress:ye,children:Object(z.jsx)(S.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}),Object(z.jsx)(p.default,{style:[m.SearchOptionsStyle.input,{borderColor:ce?"red":"black"}],onChangeText:function(e){Z(e)},placeholder:"Enter recipe names/ingredients",onSubmitEditing:ye})]}),Object(z.jsxs)(O.default,{style:W(W({},m.SearchOptionsStyle.textButtonContainer),{},{width:.7*P}),children:[Object(z.jsx)(j.default,{onPress:xe,style:{paddingTop:12},children:Object(z.jsx)(S.FontAwesomeIcon,{icon:"ban",size:20})}),Object(z.jsx)(p.default,{style:[m.SearchOptionsStyle.input,{borderColor:ce?"red":"black"}],onChangeText:function(e){te(e)},value:ee,placeholder:"Enter ingredients to exclude",onSubmitEditing:xe})]}),Object(z.jsx)(B,{hasError:ce,style:x.styles.errorMsg,message:fe}),Object(z.jsxs)(O.default,{style:W(W({},m.SearchOptionsStyle.optionsContainer),{},{maxHeight:Object(y.default)().height/2.5,flexDirection:"row"}),children:[Object(z.jsxs)(O.default,{style:m.SearchOptionsStyle.excluded,children:[Object(z.jsx)(b.default,{style:W(W({},m.SearchOptionsStyle.excludedHeader),{},{borderBottomWidth:ie.length<=0?0:2}),children:"Excluded"}),Object(z.jsx)(H,{style:m.SearchOptionsStyle.excludeList,items:ie,renderItems:function(e){var t=e.item,n=e.index;return Object(z.jsxs)(O.default,{style:m.SearchOptionsStyle.exclude,children:[Object(z.jsx)(b.default,{style:{textAlign:"center"},children:t}),Object(z.jsx)(j.default,{onPress:function(){return function(e){oe((function(t){var n=[];return t.forEach((function(t,r){r!=e&&n.push(t)})),n}))}(n)},children:Object(z.jsx)(S.FontAwesomeIcon,{icon:"xmark",size:20})})]},n)}})]}),Object(z.jsx)(E,{options:N}),Object(z.jsx)(O.default,{style:m.SearchOptionsStyle.optionTypesContainer,children:Object(z.jsx)(g.default,{data:J,renderItem:function(e){var t=e.item;return Object(z.jsx)(j.default,{style:m.SearchOptionsStyle.optionTypes,onPress:function(){return Q(t)},children:Object(z.jsx)(b.default,{style:{fontWeight:"bold"},children:t})})}})}),Object(z.jsx)(D,{style:{height:99},type:K,data:k[K],selectedData:N[K],updateData:function(e,t){F((function(n){var r=W({},n);return r[e]=t,r}))}})]})]})})]})}}}]);
//# sourceMappingURL=8.a445bcd0.chunk.js.map