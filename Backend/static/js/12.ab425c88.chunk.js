(this.webpackJsonp=this.webpackJsonp||[]).push([[12,3,14],{245:function(e,t,i){"use strict";i.r(t),i.d(t,"recipeListStyle",(function(){return n}));var n=i(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},nameRatingContainer:{marginTop:20,marginBottom:20,borderWidth:1,padding:10},foodName:{fontWeight:"bold",textAlign:"center"}})},253:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return x}));var n=i(38),r=i.n(n),c=i(8),s=i.n(c),o=i(29),a=i(111),d=i(0),u=i(48),l=i(109),f=i(97),h=i(10),p=i(110),j=i(238),b=i(245),O=i(113),y=i(241),g=i(25);function x(e){var t=e.item,n=e.height,c=e.width,x=e.flexGrow,m=Object(o.useNavigation)(),w=Object(d.useContext)(p.CsrfCtx),v=Object(d.useContext)(O.RecipeResultsCtx),L=Object(d.useState)((function(){return null===t.rating?"No Rating":t.rating})),S=s()(L,2),P=S[0],R=(S[1],Object(d.useState)((function(){return""!==t.image?t.image.startsWith("http")?{uri:t.image,height:"100%",width:"100%"}:{uri:""+j.default+t.image,height:"100%",width:"100%"}:i(178)}))),k=s()(R,2),C=k[0];k[1];function E(){return(E=r()((function*(e){try{yield a.default.post(j.default+"/api/setRecentRecipe/",{id:e.id},{headers:{"X-CSRFToken":w.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(t){}v.setCurrentRecipeURI(e.id),m.navigate("RecipeInfo",{id:e.id})}))).apply(this,arguments)}return""===t.id?Object(g.jsxs)(h.default,{style:{width:c,height:n,flexGrow:x},children:[Object(g.jsx)(h.default,{style:b.recipeListStyle.foodPicContainer,children:Object(g.jsx)(u.default,{style:b.recipeListStyle.foodPic,source:C})}),Object(g.jsx)(f.default,{style:b.recipeListStyle.foodName,children:t.name})]},t.id):Object(g.jsxs)(l.default,{onPress:function(){return function(e){return E.apply(this,arguments)}(t)},style:{width:c,height:n,flexGrow:x},children:[Object(g.jsx)(h.default,{style:b.recipeListStyle.foodPicContainer,children:Object(g.jsx)(u.default,{style:b.recipeListStyle.foodPic,source:C})}),Object(g.jsxs)(h.default,{style:b.recipeListStyle.nameRatingContainer,children:[Object(g.jsx)(f.default,{style:b.recipeListStyle.foodName,children:t.name}),Object(g.jsxs)(f.default,{style:b.recipeListStyle.foodName,children:[Object(g.jsx)(y.FontAwesomeIcon,{icon:"star"})," ",P]})]})]},t.id)}},254:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return d}));var n=i(7),r=i.n(n),c=i(10),s=i(25);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){r()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e){var t=e.items,i=e.renderItems,n=e.style;return Object(s.jsx)(c.default,{style:a(a({},n),{},{flexDirection:"row",flexWrap:"wrap"}),children:Object(s.jsx)((function(){var e=[];return t.forEach((function(t,n){e.push(i({item:t,index:n}))})),e}),{})})}},267:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return m}));var n=i(17),r=i.n(n),c=i(38),s=i.n(c),o=i(8),a=i.n(o),d=i(111),u=i(0),l=i(114),f=i(109),h=i(64),p=i(97),j=i(243),b=i(10),O=i(238),y=i(253),g=i(254),x=i(25);function m(e){var t={id:"",name:"No more Recipes",image:"",ingredients:[],source:"",rating:"0.0"},i=Object(u.useState)(e.recipes),n=a()(i,2),c=n[0],o=n[1],m=Object(u.useState)(!1),w=a()(m,2),v=w[0],L=w[1];function S(e){return P.apply(this,arguments)}function P(){return(P=s()((function*(i){i.distanceFromEnd;if(e.showEnd||void 0!==e.setData)if(void 0==e.recipeLink||""==e.recipeLink||v)""!=c[c.length-1].id&&v&&e.showEnd&&o((function(e){var i=r()(e);return i.push(t),i}));else try{var n=yield Object(d.default)({method:"get",url:O.default+"/api/addRecipes/?nextLink="+e.recipeLink,responseType:"json"}),s=yield n.data;e.setData(s.results,s.addRecipesLink)}catch(a){L(!0)}}))).apply(this,arguments)}Object(u.useEffect)((function(){e.recipes.length<20&&(""!==e.recipeLink||void 0!==e.recipeLink)&&""!==e.recipes[e.recipes.length-1].id&&(L(!0),o((function(){var i=e.recipes;return i.push(t),i}))),o(e.recipes)}),[e.recipes]);var R=Object(j.default)().width,k=Math.floor(R/300);return Object(x.jsx)(b.default,{style:{width:"100%"},children:k<=1?Object(x.jsx)(l.default,{data:c,renderItem:function(e){var t=e.item;return Object(x.jsx)(y.default,{height:300,width:"100%",item:t})},onEndReached:S,onEndReachedThreshold:2,extraData:c}):Object(x.jsxs)(h.default,{children:[Object(x.jsx)(g.default,{items:c,renderItems:function(e){var t=e.item,i=e.index;return Object(x.jsx)(y.default,{height:300,width:300,item:t,flexGrow:1},i)}}),Object(x.jsx)((function(e){if(e.loadMore)return Object(x.jsx)(f.default,{style:{backgroundColor:"ff6e00",padding:5},onPress:S,children:Object(x.jsx)(p.default,{style:{textAlign:"center",fontWeight:"bold",fontSize:50},children:"Load More"})})}),{loadMore:!v&&""!=e.recipeLink})]})})}}}]);
//# sourceMappingURL=12.ab425c88.chunk.js.map