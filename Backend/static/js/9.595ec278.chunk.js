(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{238:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:20,fontWeight:"bold",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},239:function(e,t,n){"use strict";n.r(t);t.default=""},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return i})),n.d(t,"navBarHeight",(function(){return o})),n.d(t,"platformStyles",(function(){return a})),n.d(t,"changeNavBarPaddingTop",(function(){return s}));var r=n(14),i=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"column",flexBasis:75,padding:10,justifyContent:"center",alignItems:"flex-start"}}),o=100,a="web"!==r.default.OS?{maxHeight:o,minHeight:o}:{};function s(){return"web"!==r.default.OS?40:10}},242:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7},listHeaderContainer:{borderRadius:10},listHeader:{width:160,fontSize:20,fontWeight:"bold",textAlign:"center",padding:10},chosenList:{backgroundColor:"#0098ff",color:"#ffffff",borderRadius:10}})},243:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n(7),i=n.n(r),o=n(271),a=n(0),s=n(108),c=n(10),l=n(241),d=n(238),u=n(109),f=n(38),h=n.n(f),g=n(29),b=n(111),j=n(110),p=n(112),y=n(239),O=n(25);function x(){var e=Object(a.useContext)(p.CsrfCtx),t=Object(a.useContext)(u.AccountCtx),n=Object(g.useNavigation)();function r(){return(r=h()((function*(){var r=yield b.default.get(y.default+"/api/logout/"),i=yield r.data;i.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(i.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(O.jsx)(j.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(O.jsx)(s.default,{style:d.styles.navText,children:"Sign Out"})})}var m=n(244),S=n(242);function v(e){return e.show?Object(O.jsx)(o.default,{to:{screen:"Search"},style:S.SearchStyle.imgContainer,children:Object(O.jsx)(m.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}var w=n(240);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=Object(a.useContext)(u.AccountCtx);function n(e){return e.show?Object(O.jsx)(o.default,{to:{screen:"Login",params:{toLogin:!0}},style:d.styles.navLink,children:Object(O.jsx)(s.default,{style:d.styles.navText,children:"Login"})}):void 0}function r(e){return e.show?Object(O.jsx)(o.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:d.styles.navLink,children:Object(O.jsx)(s.default,{style:d.styles.navText,children:"Sign Up"})}):void 0}return Object(O.jsxs)(c.default,{style:k(k({},e.style),{},{paddingTop:Object(w.changeNavBarPaddingTop)()},w.platformStyles),children:[Object(O.jsx)(c.default,{children:t.loggedIn&&Object(O.jsxs)(s.default,{style:d.styles.usernameText,children:["Username: ",t.username]})}),Object(O.jsxs)(c.default,{style:{flexDirection:"row"},children:[Object(O.jsxs)(c.default,{style:{flexDirection:"row",width:.5*Object(l.default)().width},children:["Home"!==e.routeName&&Object(O.jsx)(o.default,{style:d.styles.navLink,to:{screen:"Home"},children:Object(O.jsx)(s.default,{style:d.styles.navText,children:"Home"})}),t.loggedIn&&"Profile"!==e.routeName&&Object(O.jsx)(o.default,{style:d.styles.navLink,to:{screen:"Profile"},children:Object(O.jsx)(s.default,{style:d.styles.navText,children:"Profile"})})]}),Object(O.jsxs)(c.default,{style:{flexDirection:"row",justifyContent:"flex-end",width:.48*Object(l.default)().width},children:[Object(O.jsx)((function(e){return e.isLoggedIn?Object(O.jsx)(x,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(n,{show:"Login"!==e.route}),Object(O.jsx)(r,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(O.jsx)(v,{show:"Search"!==e.routeName})]})]})]})}},254:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchOptionsStyle",(function(){return r}));var r=n(9).default.create({container:{flex:1,alignItems:"center",paddingTop:10,marginLeft:"auto",marginRight:"auto"},textButtonContainer:{flexDirection:"row",justifyContent:"center",flexBasis:50,maxHeight:50},searchIcon:{height:25,marginTop:7,width:"100%",resizeMode:"contain"},imgContainer:{flexBasis:20,height:30,justifyContent:"center",paddingTop:10},input:{height:40,marginLeft:10,padding:15,paddingBottom:10,borderColor:"black",borderWidth:1,borderRadius:20},exclude:{flexDirection:"row",padding:5,paddingLeft:7,marginLeft:5,marginTop:5,marginBottom:5,backgroundColor:"#ff5c5c",borderRadius:10},excludedHeader:{fontWeight:"bold",fontSize:20,textAlign:"center"},excludeList:{paddingLeft:5,justifyContent:"center"},excluded:{width:"100%",borderTopWidth:2,borderLeftWidth:2,borderRightWidth:2},optionsContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",minWidth:400,width:"30%"},optionTypesContainer:{borderWidth:2,marginBottom:5,height:99},optionTypes:{width:100,backgroundColor:"#ff9100",alignItems:"center"},text:{textAlign:"center",padding:5},optionTypeHeader:{backgroundColor:"#ffee00",fontWeight:"bold"},selectedMetaText:{fontSize:25},selectedOptionsContainer:{height:"80%",minHeight:"80%",maxHeight:"80%",borderWidth:2,marginBottom:5}})},277:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r=n(17),i=n.n(r),o=n(38),a=n.n(o),s=n(7),c=n.n(s),l=n(8),d=n.n(l),u=n(111),f=n(0),h=n(113),g=n(114),b=n(110),j=n(108),p=n(245),y=n(241),O=n(10),x=n(238),m=n(254),S=n(244),v=n(109),w=n(112),C=n(115),k={diet:["balanced","high-fiber","high-protein","low-carb","low-fat","low-sodium"],health:["alcohol-cocktail","alcohol-free","celery-free","crustacean-free","dairy-free","DASH","egg-free","fish-free","fodmap-free","gluten-free","immuno-supportive","keto-friendly","kidney-friendly","kosher","low-potassium","low-sugar","lupine-free","Mediterranean","mollusk-free","mustard-free","No-oil-added","paleo","peanut-free","Pescatarian","pork-free","red-meat-free","sesame-free","shellfish-free","soy-free","sugar-conscious","sulfite-free","tree-nut-free","vegan","vegetarian","wheat-free"],mealType:["breakfast","brunch","lunch/dinner","snack","teatime"],dishType:["alcohol cocktail","biscuits and cookies","bread","cereals","condiments and sauces","desserts","drinks","egg","ice cream and custard","main course","pancake","pasta","pastry","pies and tarts","pizza","preps","preserve","salad","sandwiches","seafood","side dish","soup","special occasions","starter"],cuisineType:["american","asian","british","caribbean","central europe","eastern europe","chinese","french","greek","indian","italian","japanese","korean","kosher","mediterranean","mexican","middle eastern","nordic","south american","south east asia","world"]},T=n(239),P=n(240),L=n(243),z=n(25);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=Object(f.lazy)((function(){return n.e(16).then(n.bind(null,279))})),B=Object(f.lazy)((function(){return n.e(1).then(n.bind(null,267))})),W=Object(f.lazy)((function(){return n.e(17).then(n.bind(null,273))})),E=Object(f.lazy)((function(){return n.e(2).then(n.bind(null,250))}));function R(e){var t=e.route,n=e.navigation,r=Object(f.useContext)(C.RecipeResultsCtx),o=Object(f.useContext)(v.AccountCtx),s=Object(f.useContext)(w.CsrfCtx),c=Object(f.useState)(Object(y.default)().width),l=d()(c,2),D=l[0],R=(l[1],Object(f.useState)({diet:[],health:[],cuisineType:[],mealType:[],dishType:[]})),A=d()(R,2),N=A[0],M=A[1],U=Object(f.useState)((function(){var e=[];for(var t in N)e.push(t);return e})),F=d()(U,2),J=F[0],q=(F[1],Object(f.useState)(J[0])),G=d()(q,2),K=G[0],Q=G[1],V=Object(f.useState)(""),X=d()(V,2),Y=X[0],Z=X[1],$=Object(f.useState)(""),_=d()($,2),ee=_[0],te=_[1],ne=Object(f.useState)([]),re=d()(ne,2),ie=re[0],oe=re[1],ae=Object(f.useState)(!1),se=d()(ae,2),ce=se[0],le=se[1],de=Object(f.useState)(""),ue=d()(de,2),fe=ue[0],he=ue[1],ge=Object(f.useState)(!0),be=d()(ge,2),je=be[0];be[1];function pe(){var e=0;for(var t in N)N[t].length<=0&&(e+=1);return e>=J.length}function ye(){return Oe.apply(this,arguments)}function Oe(){return(Oe=a()((function*(){if(Y.length<=0&&pe()&&ie.length<=0)return le(!0),void he("Please enter food name/ingredients");le(!1);var e="";if(!pe()){var t=function(t){e.length>0&&N[t].length>0&&(e+="&"),N[t].forEach((function(n,r){e+=t+"="+n,r<N[t].length-1&&(e+="&")})),1};for(var i in N)t(i)}ie.length>0&&(e.length>0&&(e+="&"),ie.forEach((function(t,n){e+="excluded="+t.trim(),n<ie.length-1&&(e+="&")}))),Y.trim().length>0&&(e.length>0&&(e+="&"),e+="ingredients="+Y.trim());try{var o=yield Object(u.default)({method:"get",url:T.default+"/api/fetchRecipes/?"+e,responseType:"json"}),a=yield o.data;r.getRecipes(a.results),r.setAddRecipesLink(a.addRecipesLink),r.setIsLoading(!0),n.navigate("Home")}catch(s){le(!0),he("Unable to retrieve any recipes")}}))).apply(this,arguments)}function xe(){""!==ee&&(oe((function(e){return[].concat(i()(e),[ee])})),te(""))}return Object(f.useEffect)((function(){o.checkCred(s,T.default)}),[je]),Object(z.jsxs)(O.default,{style:x.styles.pageContainer,children:[Object(z.jsx)(L.default,{routeName:t.name,style:H({},P.NavBarStyle.container)}),Object(z.jsx)(f.Suspense,{fallback:Object(z.jsx)(h.default,{size:"large"}),children:Object(z.jsxs)(O.default,{style:H(H({},m.SearchOptionsStyle.container),{},{width:D,height:Object(y.default)().height}),children:[Object(z.jsxs)(O.default,{style:H(H({},m.SearchOptionsStyle.textButtonContainer),{},{width:.7*D}),children:[Object(z.jsx)(b.default,{style:m.SearchOptionsStyle.imgContainer,onPress:ye,children:Object(z.jsx)(S.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}),Object(z.jsx)(p.default,{style:[m.SearchOptionsStyle.input,{borderColor:ce?"red":"black"}],onChangeText:function(e){Z(e)},placeholder:"Enter recipe names/ingredients",onSubmitEditing:ye})]}),Object(z.jsxs)(O.default,{style:H(H({},m.SearchOptionsStyle.textButtonContainer),{},{width:.7*D}),children:[Object(z.jsx)(b.default,{onPress:xe,style:{paddingTop:12},children:Object(z.jsx)(S.FontAwesomeIcon,{icon:"ban",size:20})}),Object(z.jsx)(p.default,{style:[m.SearchOptionsStyle.input,{borderColor:ce?"red":"black"}],onChangeText:function(e){te(e)},value:ee,placeholder:"Enter ingredients to exclude",onSubmitEditing:xe})]}),Object(z.jsx)(B,{hasError:ce,style:x.styles.errorMsg,message:fe}),Object(z.jsxs)(O.default,{style:H(H({},m.SearchOptionsStyle.optionsContainer),{},{maxHeight:Object(y.default)().height/2.5,flexDirection:"row"}),children:[Object(z.jsxs)(O.default,{style:m.SearchOptionsStyle.excluded,children:[Object(z.jsx)(j.default,{style:H(H({},m.SearchOptionsStyle.excludedHeader),{},{borderBottomWidth:ie.length<=0?0:2}),children:"Excluded"}),Object(z.jsx)(E,{style:m.SearchOptionsStyle.excludeList,items:ie,renderItems:function(e){var t=e.item,n=e.index;return Object(z.jsxs)(O.default,{style:m.SearchOptionsStyle.exclude,children:[Object(z.jsx)(j.default,{style:{textAlign:"center"},children:t}),Object(z.jsx)(b.default,{onPress:function(){return function(e){oe((function(t){var n=[];return t.forEach((function(t,r){r!=e&&n.push(t)})),n}))}(n)},children:Object(z.jsx)(S.FontAwesomeIcon,{icon:"xmark",size:20})})]},n)}})]}),Object(z.jsx)(W,{options:N}),Object(z.jsx)(O.default,{style:m.SearchOptionsStyle.optionTypesContainer,children:Object(z.jsx)(g.default,{data:J,renderItem:function(e){var t=e.item;return Object(z.jsx)(b.default,{style:m.SearchOptionsStyle.optionTypes,onPress:function(){return Q(t)},children:Object(z.jsx)(j.default,{style:{fontWeight:"bold"},children:t})})}})}),Object(z.jsx)(I,{style:{height:99},type:K,data:k[K],selectedData:N[K],updateData:function(e,t){M((function(n){var r=H({},n);return r[e]=t,r}))}})]})]})})]})}}}]);
//# sourceMappingURL=9.595ec278.chunk.js.map