(this.webpackJsonp=this.webpackJsonp||[]).push([[10],{215:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountCtx",(function(){return c})),n.d(t,"default",(function(){return d}));var r=n(40),a=n.n(r),u=n(11),s=n.n(u),i=n(217),o=n(0),l=n(16),c=Object(o.createContext)({loggedIn:!1,username:"",email:"",setLoginStatus:function(){},setUsername:function(e){},setEmail:function(e){},checkCred:function(e,t){}});function d(e){var t=Object(o.useState)(!1),n=s()(t,2),r=n[0],u=n[1],d=Object(o.useState)(""),f=s()(d,2),b=f[0],p=f[1],m=Object(o.useState)(""),h=s()(m,2),y=h[0],g=h[1];function j(){return(j=a()((function*(e,t){if(!r)try{var n=yield i.default.get(t+"/api/checkLogin/"),a=yield n.data;e.setCsrfToken(a.token),0!=a.user&&(O(),v(a.user.username),S(a.user.email))}catch(u){}}))).apply(this,arguments)}function O(){u((function(e){return!e}))}function S(e){""==e?g(""):e.match(/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/)&&g(e)}function v(e){e.length>0?p(e):p("")}return Object(l.jsx)(c.Provider,{value:{loggedIn:r,username:b,email:y,setLoginStatus:O,setUsername:v,setEmail:S,checkCred:function(e,t){return j.apply(this,arguments)}},children:e.children})}},216:function(e,t,n){"use strict";n.r(t),n.d(t,"CsrfCtx",(function(){return i})),n.d(t,"default",(function(){return o}));var r=n(11),a=n.n(r),u=n(0),s=n(16),i=Object(u.createContext)({token:"",setCsrfToken:function(e){}});function o(e){var t=Object(u.useState)(""),n=a()(t,2),r=n[0],o=n[1];return Object(s.jsx)(i.Provider,{value:{token:r,setCsrfToken:function(e){o(e)}},children:e.children})}},218:function(e,t,n){"use strict";n.r(t);t.default=""},220:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(36),a=n(0);function u(){var e=Object(a.useState)((function(){return r.default.get("window")})),t=e[0],n=e[1];return Object(a.useEffect)((function(){function e(e){var t=e.window;null!=t&&n(t)}return r.default.addEventListener("change",e),n(r.default.get("window")),function(){r.default.removeEventListener("change",e)}}),[]),t}},233:function(e,t,n){"use strict";n.r(t),n.d(t,"FormStyle",(function(){return r}));var r=n(7).default.create({formInput:{padding:5,marginTop:10,borderWidth:2,borderRadius:20},formLabel:{marginRight:10,textAlign:"left",fontWeight:"bold"},submitButton:{padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00"}})},279:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n(6),a=n.n(r),u=n(40),s=n.n(u),i=n(11),o=n.n(i),l=n(217),c=n(0),d=n(220),f=n(8),b=n(29),p=n(233),m=n(7).default.create({userField:{textAlign:"center",fontSize:25},submitButton:{backgroundColor:"#ff9100",fontWeight:"bold",padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00",width:150}}),h=n(215),y=n(216),g=n(218),j=n(16);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=Object(c.lazy)((function(){return n.e(17).then(n.bind(null,277))})),C=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,269))})),w=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function k(e){e.route,e.navigation;var t=Object(c.useContext)(y.CsrfCtx),n=Object(c.useContext)(h.AccountCtx),r=Object(c.useState)(""),a=o()(r,2),u=a[0],i=a[1],O=Object(c.useState)(""),k=o()(O,2),x=k[0],P=k[1],T=Object(c.useState)(""),A=o()(T,2),E=A[0],z=A[1],F=Object(c.useState)(Object(d.default)().width),I=o()(F,2),U=I[0],Z=(I[1],Object(c.useState)(!1)),R=o()(Z,2),V=R[0],H=R[1],L=Object(c.useState)(!1),W=o()(L,2),B=W[0],D=W[1],M=Object(c.useState)(!1),X=o()(M,2),Y=X[0],J=X[1],$=Object(c.useState)("red"),q=o()($,2),G=q[0],K=q[1],N=Object(c.useState)(""),Q=o()(N,2),_=Q[0],ee=Q[1],te=Object(c.useState)(!0),ne=o()(te,2),re=ne[0];ne[1];function ae(){return(ae=s()((function*(){if(""!==u)try{var e=yield l.default.put(g.default+"/api/updateUserInfo/",{username:u},{headers:{"X-CSRFToken":t.token,credentials:"include"},withCredentials:!0,responseType:"json"}),r=yield e.data;n.setUsername(u);var a="";for(var s in r)a=r[s];ie(a,0,!1)}catch(i){ie(i.response.data.message,0,!0)}else ie("You haven't entered a username",0,!0)}))).apply(this,arguments)}function ue(){return(ue=s()((function*(){if(""!==x&&null!==x.match(w))try{var e=yield l.default.put(g.default+"/api/updateUserInfo/",{email:x},{headers:{"X-CSRFToken":t.token,credentials:"include"},withCredentials:!0,responseType:"json"}),r=yield e.data;n.setEmail(x);var a="";for(var u in r)a=r[u];ie(a,1,!1)}catch(s){ie(s.response.data.message,1,!0)}else ie("You haven't entered a valid email",1,!0)}))).apply(this,arguments)}function se(){return(se=s()((function*(){if(""!==E)try{var e=yield l.default.put(g.default+"/api/updateUserInfo/",{password:E},{headers:{"X-CSRFToken":t.token,credentials:"include"},withCredentials:!0,responseType:"json"}),n=yield e.data,r="";for(var a in n)r=n[a];ie(r,2,!1)}catch(u){ie(u.response.data.message,2,!0)}else ie("You haven't entered a password",2,!0)}))).apply(this,arguments)}function ie(e,t,n){switch(K(n?"red":"green"),t){case 0:H(!0),D(!1),J(!1);break;case 1:H(!1),D(!0),J(!1);break;case 2:H(!1),D(!1),J(!0);break;default:H(!1),D(!1),J(!1)}ee(e)}Object(c.useEffect)((function(){n.checkCred(t,g.default)}),[re]);var oe=U<700?.7*U:.5*U;return Object(j.jsxs)(f.default,{style:S(S({},b.styles.pageContainer),{},{alignItems:"center"}),children:[Object(j.jsx)(v,{containerStyle:{alignItems:"center"},label:"Username:",labelStyle:S(S({},m.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:n.username,labelValueStyle:m.userField,placeholder:"Please enter new username",onChangeText:function(e){i(e)},inputPromptStyle:S(S({},p.FormStyle.formInput),{},{width:oe}),submitText:"Update Username",submitHandler:function(){return ae.apply(this,arguments)},submitStyle:m.submitButton}),Object(j.jsx)(C,{style:S(S({},b.styles.errorMsg),{},{backgroundColor:G}),hasError:V,message:_}),Object(j.jsx)(v,{containerStyle:{alignItems:"center"},label:"Email:",labelStyle:S(S({},m.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:n.email,labelValueStyle:m.userField,placeholder:"Please enter new email",onChangeText:function(e){P(e)},inputPromptStyle:S(S({},p.FormStyle.formInput),{},{width:oe}),submitText:"Update Email",submitHandler:function(){return ue.apply(this,arguments)},submitStyle:m.submitButton}),Object(j.jsx)(C,{style:S(S({},b.styles.errorMsg),{},{backgroundColor:G}),hasError:B,message:_}),Object(j.jsx)(v,{containerStyle:{alignItems:"center"},label:"Password:",labelStyle:S(S({},m.userField),{},{fontWeight:"bold"}),labelValueHidden:!0,placeholder:"Please enter new Password",onChangeText:function(e){z(e)},inputPromptStyle:S(S({},p.FormStyle.formInput),{},{width:oe}),submitText:"Update Password",submitHandler:function(){return se.apply(this,arguments)},submitStyle:m.submitButton}),Object(j.jsx)(C,{style:S(S({},b.styles.errorMsg),{},{backgroundColor:G}),hasError:Y,message:_})]})}}}]);
//# sourceMappingURL=10.3b00abfe.chunk.js.map