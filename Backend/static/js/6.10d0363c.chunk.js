(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{238:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return i}));var i=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:20,fontWeight:"bold",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},239:function(e,t,n){"use strict";n.r(t);t.default=""},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return r})),n.d(t,"navBarHeight",(function(){return a})),n.d(t,"platformStyles",(function(){return c})),n.d(t,"changeNavBarPaddingTop",(function(){return s}));var i=n(14),r=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"column",flexBasis:75,padding:10,justifyContent:"center",alignItems:"flex-start"}}),a=100,c="web"!==i.default.OS?{maxHeight:a,minHeight:a}:{};function s(){return"web"!==i.default.OS?40:10}},242:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return i}));var i=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7},listHeaderContainer:{borderRadius:10},listHeader:{width:165,fontSize:20,fontWeight:"bold",textAlign:"center",padding:10},chosenList:{backgroundColor:"#0098ff",color:"#ffffff",borderRadius:10}})},243:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var i=n(7),r=n.n(i),a=n(272),c=n(0),s=n(108),o=n(10),l=n(241),d=n(238),u=n(109),f=n(38),j=n.n(f),g=n(29),b=n(111),h=n(110),y=n(112),O=n(239),p=n(25);function x(){var e=Object(c.useContext)(y.CsrfCtx),t=Object(c.useContext)(u.AccountCtx),n=Object(g.useNavigation)();function i(){return(i=j()((function*(){var i=yield b.default.get(O.default+"/api/logout/"),r=yield i.data;r.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(r.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(p.jsx)(h.default,{style:{padding:5},onPress:function(){return i.apply(this,arguments)},children:Object(p.jsx)(s.default,{style:d.styles.navText,children:"Sign Out"})})}var m=n(244),v=n(242);function S(e){return e.show?Object(p.jsx)(a.default,{to:{screen:"Search"},style:v.SearchStyle.imgContainer,children:Object(p.jsx)(m.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}var w=n(240);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=Object(c.useContext)(u.AccountCtx);function n(e){return e.show?Object(p.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:d.styles.navLink,children:Object(p.jsx)(s.default,{style:d.styles.navText,children:"Login"})}):void 0}function i(e){return e.show?Object(p.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:d.styles.navLink,children:Object(p.jsx)(s.default,{style:d.styles.navText,children:"Sign Up"})}):void 0}return Object(p.jsxs)(o.default,{style:R(R({},e.style),{},{paddingTop:Object(w.changeNavBarPaddingTop)()},w.platformStyles),children:[Object(p.jsx)(o.default,{children:t.loggedIn&&Object(p.jsxs)(s.default,{style:d.styles.usernameText,children:["Username: ",t.username]})}),Object(p.jsxs)(o.default,{style:{flexDirection:"row"},children:[Object(p.jsxs)(o.default,{style:{flexDirection:"row",width:.5*Object(l.default)().width},children:["Home"!==e.routeName&&Object(p.jsx)(a.default,{style:d.styles.navLink,to:{screen:"Home"},children:Object(p.jsx)(s.default,{style:d.styles.navText,children:"Home"})}),t.loggedIn&&"Profile"!==e.routeName&&Object(p.jsx)(a.default,{style:d.styles.navLink,to:{screen:"Profile"},children:Object(p.jsx)(s.default,{style:d.styles.navText,children:"Profile"})})]}),Object(p.jsxs)(o.default,{style:{flexDirection:"row",justifyContent:"flex-end",width:.48*Object(l.default)().width},children:[Object(p.jsx)((function(e){return e.isLoggedIn?Object(p.jsx)(x,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(n,{show:"Login"!==e.route}),Object(p.jsx)(i,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(p.jsx)(S,{show:"Search"!==e.routeName})]})]})]})}},247:function(e,t,n){"use strict";n.r(t),n.d(t,"recipeListStyle",(function(){return i}));var i=n(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},nameRatingContainer:{marginTop:20,marginBottom:20,borderWidth:1,padding:10},foodName:{fontWeight:"bold",textAlign:"center"}})},277:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var i=n(7),r=n.n(i),a=n(38),c=n.n(a),s=n(8),o=n.n(s),l=n(111),d=n(0),u={},f="ExpoKeepAwakeDefaultTag";function j(){return g.apply(this,arguments)}function g(){return(g=c()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;yield null==u.activate?void 0:u.activate(e)}))).apply(this,arguments)}function b(){return h.apply(this,arguments)}function h(){return(h=c()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;yield null==u.deactivate?void 0:u.deactivate(e)}))).apply(this,arguments)}var y=n(113),O=n(48),p=n(246),x=n(110),m=n(64),v=n(108),S=n(241),w=n(10),C=n(238),R=n(247),I=n(109),P=n(239),W=n(243),L=n(112),T=n(240),k=n(244),D=n(9).default.create({recipeName:{textAlign:"center",fontSize:30,fontWeight:"bold",textDecorationLine:"underline"},srcRatingContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"flex-end",width:"70%"},source:{backgroundColor:"#fd5d00",margin:10,padding:10,borderRadius:20,alignItems:"center",maxHeight:45},cautionsText:{color:"#951831",fontWeight:"bold"},ratingsContainer:{alignItems:"center",borderWidth:2},cautionsHeader:{fontSize:30,textDecorationLine:"underline",textAlign:"center"},nutrientRow:{flexDirection:"row",justifyContent:"space-between"},nutrientCell:{padding:3,flex:1,flexBasis:150},ratingButton:{width:33,padding:10},ingredientsHeader:{fontWeight:"bold",fontSize:20,textDecorationLine:"underline",textAlign:"center"}}),N=n(115),z=n(70),A=n(25);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=Object(d.lazy)((function(){return n.e(2).then(n.bind(null,249))})),E=Object(d.lazy)((function(){return n.e(15).then(n.bind(null,275))}));function F(e){var t=e.route,n=e.navigation,i=Object(d.useContext)(I.AccountCtx),r=Object(d.useContext)(L.CsrfCtx),a=Object(d.useContext)(N.RecipeResultsCtx),s=Object(d.useState)(!1),u=o()(s,2),g=u[0],h=u[1],B=Object(d.useState)(!0),F=o()(B,2),q=F[0],M=(F[1],Object(d.useState)("Recipe Unavailable")),J=o()(M,2),K=J[0],Q=J[1],X=Object(d.useState)("Recipe Unavailable"),G=o()(X,2),V=G[0],Y=G[1],Z=Object(d.useState)(z.defaultImage),$=o()(Z,2),_=$[0],ee=$[1],te=Object(d.useState)([]),ne=o()(te,2),ie=ne[0],re=ne[1],ae=Object(d.useState)(""),ce=o()(ae,2),se=ce[0],oe=ce[1],le=Object(d.useState)([]),de=o()(le,2),ue=de[0],fe=de[1],je=Object(d.useState)([]),ge=o()(je,2),be=ge[0],he=ge[1],ye=Object(d.useState)("0.0"),Oe=o()(ye,2),pe=Oe[0],xe=Oe[1],me=Object(d.useState)([]),ve=o()(me,2),Se=ve[0],we=ve[1],Ce=Object(d.useState)([0,1]),Re=o()(Ce,2),Ie=Re[0],Pe=Re[1],We=Object(d.useState)("No Ratings"),Le=o()(We,2),Te=Le[0],ke=Le[1],De=Object(d.useState)(0),Ne=o()(De,2),ze=Ne[0],Ae=Ne[1],Be=Object(d.useState)(!0),He=o()(Be,2),Ue=He[0],Ee=He[1],Fe=Object(d.useState)(Object(S.default)().width),qe=o()(Fe,2),Me=qe[0];qe[1];function Je(e,t){if(e>t)Pe([e]);else{for(var n=[],i=e;i<=t;i++)n.push(i);Pe(n)}}function Ke(){return(Ke=c()((function*(e){Ae(e);try{yield l.default.put(P.default+"/api/setRating/",{id:t.params.id,rating:e},{headers:{"X-CSRFToken":r.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(n){}}))).apply(this,arguments)}function Qe(){return(Qe=c()((function*(){se.length>0&&((yield p.default.canOpenURL(se))&&h(!0))}))).apply(this,arguments)}function Xe(){return(Xe=c()((function*(){try{var e=yield l.default.get(P.default+"/api/getRecipe/?id="+t.params.id),n=yield e.data;if(Q(n.name),Y(n.sourceName),n.image.length>0){var r=z.defaultImage;r=n.image.startsWith("http")?""+n.image:""+P.default+n.image,ee({uri:r,height:"100%",width:"100%"})}else ee(z.defaultImage);re(n.ingredients),oe(n.source),fe(n.cautions),he([{category:"Diets",values:n.diets},{category:"Healths",values:n.healths},{category:"Cuisines",values:n.cuisineTypes},{category:"Meals Types",values:n.mealTypes},{category:"Dish Types",values:n.dishTypes}]);var a=[];n.nutrients.forEach((function(e){"Energy"===e.label?xe(Math.round(e.quantity)+" "+e.unit):a.push(e)})),we(a),Je(n.minRating,n.maxRating),i.loggedIn&&Ae(n.userRating),null!==n.rating?ke(n.rating):ke("No Ratings")}catch(c){}Ee(!1)}))).apply(this,arguments)}return Object(d.useEffect)((function(){i.checkCred(r,P.default),""!==a.currentRecipeURI&&a.currentRecipeURI!==t.params.id&&n.setParams({id:a.currentRecipeURI}),function(){Xe.apply(this,arguments)}()}),[q,t.key,a.currentRecipeURI,t.params.id]),Object(d.useEffect)((function(){!function(){Qe.apply(this,arguments)}()}),[se]),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;Object(d.useEffect)((function(){return j(e),function(){null!=t&&t.suppressDeactivateWarnings?b(e).catch((function(){})):b(e)}}),[e])}(),Object(A.jsxs)(w.default,{style:C.styles.pageContainer,children:[Object(A.jsx)(W.default,{routeName:t.name,style:H({},T.NavBarStyle.container)}),Object(A.jsx)(d.Suspense,{fallback:Object(A.jsx)(y.default,{size:"large"}),children:!Ue&&Object(A.jsxs)(m.default,{contentContainerStyle:{alignItems:"center"},children:[Object(A.jsx)(v.default,{style:H(H({},D.recipeName),{},{fontSize:50}),children:K}),Object(A.jsx)(w.default,{style:H(H({},R.recipeListStyle.foodPicContainer),R.recipeListStyle.foodPic),children:Object(A.jsx)(O.default,{style:R.recipeListStyle.foodPic,source:_})}),Object(A.jsxs)(v.default,{children:["Source Name: ",V]}),Object(A.jsxs)(w.default,{style:D.srcRatingContainer,children:[Object(A.jsx)(x.default,{style:D.source,onPress:c()((function*(){if(g)return yield p.default.openURL(se)})),children:Object(A.jsx)(v.default,{style:{fontWeight:"bold",fontSize:15},children:g?"Source":"No Source"})}),Object(A.jsx)((function(e){return e.show?Object(A.jsxs)(w.default,{style:{alignItems:"center"},children:[Object(A.jsxs)(v.default,{style:{fontSize:20},children:[Object(A.jsx)(k.FontAwesomeIcon,{icon:"star"})," Overal Rating:"," ",e.avgRating]}),Object(A.jsx)(w.default,{style:D.ratingsContainer,children:Object(A.jsx)(U,{items:e.ratingRange,renderItems:e.renderRatingChoices})})]}):void 0}),{show:i.loggedIn,avgRating:Te,ratingRange:Ie,renderRatingChoices:function(e){var t=e.item,n=e.index;return Object(A.jsx)(x.default,{style:H(H({},D.ratingButton),{},{backgroundColor:ze!==t?"#fd5d00":"#00ff0d"}),onPress:function(){return function(e){return Ke.apply(this,arguments)}(t)},children:Object(A.jsx)(v.default,{style:{fontWeight:"bold",fontSize:20},children:t})},n)}})]}),Object(A.jsxs)(w.default,{style:{paddingTop:10,alignItems:"center",width:Me<700?"100%":"50%"},children:[Object(A.jsx)(v.default,{style:D.recipeName,children:"Ingredients"}),Object(A.jsx)(w.default,{style:{borderWidth:2,width:"100%"},children:Object(A.jsx)(E,{data:ie,renderItem:function(e){var t=e.item,n=e.index;return Object(A.jsxs)(v.default,{style:{textAlign:"center",width:"100%"},children:[n+1,". ",t]},n)}})})]}),Object(A.jsxs)(w.default,{style:{alignItems:"center"},children:[ue.length>0?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(v.default,{style:H(H({},D.cautionsText),D.cautionsHeader),children:"Cautions"}),Object(A.jsx)(U,{style:{borderWidth:2,backgroundColor:"#951831"},items:ue,renderItems:function(e){var t=e.item,n=e.index;return Object(A.jsx)(v.default,{style:{color:"white",fontWeight:"bold",textAlign:"center",flex:1,padding:3,fontSize:20},children:t},n)}})]}):void 0,Object(A.jsxs)(v.default,{style:H(H({},D.recipeName),{},{textDecorationLine:"none"}),children:["Calories: ",pe]}),Object(A.jsx)(w.default,{style:{borderWidth:2,borderBottomWidth:0,width:Me<700?"100%":"50%"},children:Object(A.jsx)(E,{data:be,renderItem:function(e){var t=e.item,n=e.index;return Object(A.jsxs)(w.default,{style:{borderBottomWidth:1},children:[Object(A.jsx)(v.default,{style:H(H({},D.recipeName),{},{fontSize:20}),children:t.category}),Object(A.jsx)(w.default,{style:{justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(U,{style:{justifyContent:"center"},items:t.values,renderItems:function(e){var t=e.item,n=e.index;return Object(A.jsx)(v.default,{style:{padding:3},children:t},n)}})})]},n)}})})]}),Object(A.jsx)(w.default,{children:Object(A.jsx)(v.default,{style:H({},D.recipeName),children:"Nutrient Information"})}),Object(A.jsx)(w.default,{style:{borderWidth:2,borderBottomWidth:0,marginTop:10,width:Me<700?"100%":"50%"},children:Object(A.jsx)(E,{data:[{label:"Label",quantity:"Quantity",unit:"(Units)"}].concat(Se),renderItem:function(e){var t=e.item,n=e.index;return"number"===typeof t.quantity?Object(A.jsxs)(w.default,{style:H(H({},D.nutrientRow),{},{borderBottomWidth:1}),children:[Object(A.jsx)(v.default,{style:H(H({},D.nutrientCell),{},{textAlign:"left",borderRightWidth:2}),children:t.label}),Object(A.jsxs)(v.default,{style:H(H({},D.nutrientCell),{},{textAlign:"right"}),children:[t.quantity.toFixed(1),t.unit]})]},n):Object(A.jsxs)(w.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:2},children:[Object(A.jsx)(v.default,{style:H(H({},D.nutrientCell),{},{textAlign:"left",fontWeight:"bold",borderRightWidth:2}),children:t.label}),Object(A.jsxs)(v.default,{style:H(H({},D.nutrientCell),{},{textAlign:"right",fontWeight:"bold"}),children:[t.quantity,t.unit]})]},n)}})})]})})]})}}}]);
//# sourceMappingURL=6.10d0363c.chunk.js.map