(this.webpackJsonp=this.webpackJsonp||[]).push([[10,12,18],{244:function(e,t,n){"use strict";n.r(t),n.d(t,"recipeListStyle",(function(){return i}));var i=n(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},foodName:{marginTop:20,marginBottom:20,fontWeight:"bold",padding:10,borderWidth:1,textAlign:"center"}})},252:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(38),r=n.n(i),c=n(8),o=n.n(c),s=n(29),d=n(111),a=n(0),u=n(48),l=n(109),f=n(97),p=n(10),h=n(108),j=n(110),b=n(237),O=n(244),y=n(25);function g(e){var t=e.item,i=e.height,c=e.width,g=e.flexGrow,x=Object(s.useNavigation)(),m=Object(a.useContext)(j.CsrfCtx),w=Object(a.useContext)(h.AccountCtx),v=Object(a.useState)((function(){return""!==t.image?{uri:t.image,height:"100%",width:"100%"}:n(177)})),L=o()(v,2),P=L[0];L[1];function S(){return(S=r()((function*(e){if(w.loggedIn)try{yield d.default.post(b.default+"/api/setRecentRecipe/",{id:e.id},{headers:{"X-CSRFToken":m.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(t){}x.navigate("RecipeInfo",{id:e.id})}))).apply(this,arguments)}return""===t.source?Object(y.jsxs)(p.default,{style:{width:c,height:i,flexGrow:g},children:[Object(y.jsx)(p.default,{style:O.recipeListStyle.foodPicContainer,children:Object(y.jsx)(u.default,{style:O.recipeListStyle.foodPic,source:P})}),Object(y.jsx)(f.default,{style:O.recipeListStyle.foodName,children:t.name})]},t.id):Object(y.jsxs)(l.default,{onPress:function(){return function(e){return S.apply(this,arguments)}(t)},style:{width:c,height:i,flexGrow:g},children:[Object(y.jsx)(p.default,{style:O.recipeListStyle.foodPicContainer,children:Object(y.jsx)(u.default,{style:O.recipeListStyle.foodPic,source:P})}),Object(y.jsx)(f.default,{style:O.recipeListStyle.foodName,children:t.name})]},t.id)}},253:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(7),r=n.n(i),c=n(10),o=n(25);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){var t=e.items,n=e.renderItems,i=e.style;return Object(o.jsx)(c.default,{style:d(d({},i),{},{flexDirection:"row",flexWrap:"wrap"}),children:Object(o.jsx)((function(){var e=[];return t.forEach((function(t,i){e.push(n({item:t,index:i}))})),e}),{})})}},266:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(17),r=n.n(i),c=n(38),o=n.n(c),s=n(8),d=n.n(s),a=n(111),u=n(0),l=n(113),f=n(109),p=n(64),h=n(97),j=n(240),b=n(10),O=n(237),y=n(252),g=n(253),x=n(25);function m(e){var t={id:"",name:"No more Recipes",image:"",ingredients:[],source:""},n=Object(u.useState)(e.recipes),i=d()(n,2),c=i[0],s=i[1],m=Object(u.useState)(!1),w=d()(m,2),v=w[0],L=w[1],P=Object(u.useState)(!0),S=d()(P,2);S[0],S[1];function k(e){return C.apply(this,arguments)}function C(){return(C=o()((function*(n){n.distanceFromEnd;if(e.showEnd||void 0!==e.setData)if(void 0==e.recipeLink||""==e.recipeLink||v)""!=c[c.length-1].id&&v&&e.showEnd&&s((function(e){var n=r()(e);return n.push(t),n}));else try{var i=yield Object(a.default)({method:"get",url:O.default+"/api/addRecipes/?nextLink="+e.recipeLink,responseType:"json"}),o=yield i.data;e.setData(o.results,o.addRecipesLink)}catch(d){L(!0)}}))).apply(this,arguments)}Object(u.useEffect)((function(){e.recipes.length<20&&(""!==e.recipeLink||void 0!==e.recipeLink)&&""!==e.recipes[0].id&&(L(!0),s((function(){var n=e.recipes;return n.push(t),n}))),s(e.recipes)}),[e.recipes]);var E=Object(j.default)().width,R=Math.floor(E/300);return Object(x.jsx)(b.default,{style:{width:"100%"},children:R<=1?Object(x.jsx)(l.default,{data:c,renderItem:function(e){var t=e.item;return Object(x.jsx)(y.default,{height:300,width:"100%",item:t})},onEndReached:k,onEndReachedThreshold:2,extraData:c}):Object(x.jsxs)(p.default,{children:[Object(x.jsx)(g.default,{items:c,renderItems:function(e){var t=e.item,n=e.index;return Object(x.jsx)(y.default,{height:300,width:300,item:t,flexGrow:1},n)}}),Object(x.jsx)((function(e){if(e.loadMore)return Object(x.jsx)(f.default,{style:{backgroundColor:"ff6e00",padding:5},onPress:k,children:Object(x.jsx)(h.default,{style:{textAlign:"center",fontWeight:"bold",fontSize:50},children:"Load More"})})}),{loadMore:!v&&""!=e.recipeLink})]})})}}}]);
//# sourceMappingURL=10.22ce614b.chunk.js.map