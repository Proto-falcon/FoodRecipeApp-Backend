(this.webpackJsonp=this.webpackJsonp||[]).push([[7],{238:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return i}));var i=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:20,fontWeight:"bold",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},239:function(e,t,n){"use strict";n.r(t);t.default=""},241:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return i}));var i=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},242:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return i}));var i=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"column",flexBasis:75,padding:10,justifyContent:"center",alignItems:"flex-start"}})},244:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var i=n(7),r=n.n(i),a=n(272),c=n(0),s=n(14),l=n(108),o=n(10),u=n(240),d=n(238),f=n(109),j=n(38),b=n.n(j),g=n(29),h=n(112),y=n(110),O=n(111),x=n(239),p=n(25);function m(){var e=Object(c.useContext)(O.CsrfCtx),t=Object(c.useContext)(f.AccountCtx),n=Object(g.useNavigation)();function i(){return(i=b()((function*(){var i=yield h.default.get(x.default+"/api/logout/"),r=yield i.data;r.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(r.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(p.jsx)(y.default,{style:{padding:5},onPress:function(){return i.apply(this,arguments)},children:Object(p.jsx)(l.default,{style:d.styles.navText,children:"Sign Out"})})}var v=n(243),w=n(241);function S(e){return e.show?Object(p.jsx)(a.default,{to:{screen:"Search"},style:w.SearchStyle.imgContainer,children:Object(p.jsx)(v.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=Object(c.useContext)(f.AccountCtx);function n(e){return e.show?Object(p.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:d.styles.navLink,children:Object(p.jsx)(l.default,{style:d.styles.navText,children:"Login"})}):void 0}function i(e){return e.show?Object(p.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:d.styles.navLink,children:Object(p.jsx)(l.default,{style:d.styles.navText,children:"Sign Up"})}):void 0}var r="web"!==s.default.OS?{flex:1,maxHeight:100,minHeight:100}:{};return Object(p.jsxs)(o.default,{style:R(R({},e.style),{},{paddingTop:"web"===s.default.OS?10:40},r),children:[Object(p.jsx)(o.default,{children:t.loggedIn&&Object(p.jsxs)(l.default,{style:d.styles.usernameText,children:["Username: ",t.username]})}),Object(p.jsxs)(o.default,{style:{flexDirection:"row"},children:[Object(p.jsxs)(o.default,{style:{flexDirection:"row",width:.5*Object(u.default)().width},children:["Home"!==e.routeName&&Object(p.jsx)(a.default,{style:d.styles.navLink,to:{screen:"Home"},children:Object(p.jsx)(l.default,{style:d.styles.navText,children:"Home"})}),t.loggedIn&&"Profile"!==e.routeName&&Object(p.jsx)(a.default,{style:d.styles.navLink,to:{screen:"Profile"},children:Object(p.jsx)(l.default,{style:d.styles.navText,children:"Profile"})})]}),Object(p.jsxs)(o.default,{style:{flexDirection:"row",justifyContent:"flex-end",width:.48*Object(u.default)().width},children:[Object(p.jsx)((function(e){return e.isLoggedIn?Object(p.jsx)(m,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(n,{show:"Login"!==e.route}),Object(p.jsx)(i,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(p.jsx)(S,{show:"Search"!==e.routeName})]})]})]})}},246:function(e,t,n){"use strict";n.r(t),n.d(t,"recipeListStyle",(function(){return i}));var i=n(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},nameRatingContainer:{marginTop:20,marginBottom:20,borderWidth:1,padding:10},foodName:{fontWeight:"bold",textAlign:"center"}})},277:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var i=n(7),r=n.n(i),a=n(38),c=n.n(a),s=n(8),l=n.n(s),o=n(112),u=n(0),d={},f="ExpoKeepAwakeDefaultTag";function j(){return b.apply(this,arguments)}function b(){return(b=c()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;yield null==d.activate?void 0:d.activate(e)}))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=c()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;yield null==d.deactivate?void 0:d.deactivate(e)}))).apply(this,arguments)}var y=n(113),O=n(48),x=n(248),p=n(110),m=n(64),v=n(108),w=n(240),S=n(10),C=n(238),R=n(246),I=n(109),P=n(239),W=n(244),L=n(111),k=n(242),T=n(243),D=n(9).default.create({recipeName:{textAlign:"center",fontSize:30,fontWeight:"bold",textDecorationLine:"underline"},srcRatingContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"flex-end",width:"70%"},source:{backgroundColor:"#fd5d00",margin:10,padding:10,borderRadius:20,alignItems:"center",maxHeight:45},cautionsText:{color:"#951831",fontWeight:"bold"},ratingsContainer:{alignItems:"center",borderWidth:2},cautionsHeader:{fontSize:30,textDecorationLine:"underline",textAlign:"center"},nutrientRow:{flexDirection:"row",justifyContent:"space-between"},nutrientCell:{padding:3,flex:1,flexBasis:150},ratingButton:{width:33,padding:10},ingredientsHeader:{fontWeight:"bold",fontSize:20,textDecorationLine:"underline",textAlign:"center"}}),N=n(114),z=n(70),A=n(25);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=Object(u.lazy)((function(){return n.e(3).then(n.bind(null,255))})),H=Object(u.lazy)((function(){return n.e(2).then(n.bind(null,275))}));function F(e){var t=e.route,n=e.navigation,i=Object(u.useContext)(I.AccountCtx),r=Object(u.useContext)(L.CsrfCtx),a=Object(u.useContext)(N.RecipeResultsCtx),s=Object(u.useState)(!1),d=l()(s,2),b=d[0],h=d[1],U=Object(u.useState)(!0),F=l()(U,2),q=F[0],M=(F[1],Object(u.useState)("Recipe Unavailable")),J=l()(M,2),K=J[0],Q=J[1],X=Object(u.useState)("Recipe Unavailable"),G=l()(X,2),V=G[0],Y=G[1],Z=Object(u.useState)(z.defaultImage),$=l()(Z,2),_=$[0],ee=$[1],te=Object(u.useState)([]),ne=l()(te,2),ie=ne[0],re=ne[1],ae=Object(u.useState)(""),ce=l()(ae,2),se=ce[0],le=ce[1],oe=Object(u.useState)([]),ue=l()(oe,2),de=ue[0],fe=ue[1],je=Object(u.useState)([]),be=l()(je,2),ge=be[0],he=be[1],ye=Object(u.useState)("0.0"),Oe=l()(ye,2),xe=Oe[0],pe=Oe[1],me=Object(u.useState)([]),ve=l()(me,2),we=ve[0],Se=ve[1],Ce=Object(u.useState)([0,1]),Re=l()(Ce,2),Ie=Re[0],Pe=Re[1],We=Object(u.useState)("0.0"),Le=l()(We,2),ke=Le[0],Te=Le[1],De=Object(u.useState)(0),Ne=l()(De,2),ze=Ne[0],Ae=Ne[1];function Ue(e,t){if(e>t)Pe([e]);else{for(var n=[],i=e;i<=t;i++)n.push(i);Pe(n)}}function Be(){return(Be=c()((function*(e){Ae(e);try{yield o.default.put(P.default+"/api/setRating/",{id:t.params.id,rating:e},{headers:{"X-CSRFToken":r.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(n){}}))).apply(this,arguments)}function Ee(){return(Ee=c()((function*(){se.length>0&&((yield x.default.canOpenURL(se))&&h(!0))}))).apply(this,arguments)}function He(){return(He=c()((function*(){try{var e=yield o.default.get(P.default+"/api/getRecipe/?id="+t.params.id),n=yield e.data;if(Q(n.name),Y(n.sourceName),n.image.length>0){var r=z.defaultImage;r=n.image.startsWith("http")?""+n.image:""+P.default+n.image,ee({uri:r,height:"100%",width:"100%"})}else ee(z.defaultImage);re(n.ingredients),le(n.source),fe(n.cautions),he([{category:"Diets",values:n.diets},{category:"Healths",values:n.healths},{category:"Cuisines",values:n.cuisineTypes},{category:"Meals Types",values:n.mealTypes},{category:"Dish Types",values:n.dishTypes}]);var a=[];n.nutrients.forEach((function(e){"Energy"===e.label?pe(Math.round(e.quantity)+" "+e.unit):a.push(e)})),Se(a),Ue(n.minRating,n.maxRating),i.loggedIn&&Ae(n.userRating),null!==n.rating?Te(n.rating):Te("No Ratings")}catch(c){}}))).apply(this,arguments)}return Object(u.useEffect)((function(){i.checkCred(r,P.default),""!==a.currentRecipeURI&&a.currentRecipeURI!==t.params.id&&n.setParams({id:a.currentRecipeURI}),function(){He.apply(this,arguments)}()}),[q,t.key,a.currentRecipeURI,t.params.id]),Object(u.useEffect)((function(){!function(){Ee.apply(this,arguments)}()}),[se]),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;Object(u.useEffect)((function(){return j(e),function(){null!=t&&t.suppressDeactivateWarnings?g(e).catch((function(){})):g(e)}}),[e])}(),Object(A.jsxs)(S.default,{style:C.styles.pageContainer,children:[Object(A.jsx)(W.default,{routeName:t.name,style:B({},k.NavBarStyle.container)}),Object(A.jsx)(u.Suspense,{fallback:Object(A.jsx)(y.default,{size:"large"}),children:Object(A.jsxs)(m.default,{contentContainerStyle:{alignItems:"center"},children:[Object(A.jsx)(v.default,{style:B(B({},D.recipeName),{},{fontSize:50}),children:K}),Object(A.jsx)(S.default,{style:B(B({},R.recipeListStyle.foodPicContainer),R.recipeListStyle.foodPic),children:Object(A.jsx)(O.default,{style:R.recipeListStyle.foodPic,source:_})}),Object(A.jsxs)(v.default,{children:["Source Name: ",V]}),Object(A.jsxs)(S.default,{style:D.srcRatingContainer,children:[Object(A.jsx)(p.default,{style:D.source,onPress:c()((function*(){if(b)return yield x.default.openURL(se)})),children:Object(A.jsx)(v.default,{style:{fontWeight:"bold",fontSize:15},children:b?"Source":"No Source"})}),Object(A.jsx)((function(e){return e.show?Object(A.jsxs)(S.default,{style:{alignItems:"center"},children:[Object(A.jsxs)(v.default,{style:{fontSize:20},children:[Object(A.jsx)(T.FontAwesomeIcon,{icon:"star"})," Overal Rating:"," ",e.avgRating]}),Object(A.jsx)(S.default,{style:D.ratingsContainer,children:Object(A.jsx)(E,{items:e.ratingRange,renderItems:e.renderRatingChoices})})]}):void 0}),{show:i.loggedIn,avgRating:ke,ratingRange:Ie,renderRatingChoices:function(e){var t=e.item,n=e.index;return Object(A.jsx)(p.default,{style:B(B({},D.ratingButton),{},{backgroundColor:ze!==t?"#fd5d00":"#00ff0d"}),onPress:function(){return function(e){return Be.apply(this,arguments)}(t)},children:Object(A.jsx)(v.default,{style:{fontWeight:"bold",fontSize:20},children:t})},n)}})]}),Object(A.jsxs)(S.default,{style:{paddingTop:10,alignItems:"center",width:Object(w.default)().width<700?"100%":"50%"},children:[Object(A.jsx)(v.default,{style:D.recipeName,children:"Ingredients"}),Object(A.jsx)(S.default,{style:{borderWidth:2,width:"100%"},children:Object(A.jsx)(H,{data:ie,renderItem:function(e){var t=e.item,n=e.index;return Object(A.jsxs)(v.default,{style:{textAlign:"center",width:"100%"},children:[n+1,". ",t]},n)}})})]}),Object(A.jsxs)(S.default,{style:{alignItems:"center"},children:[de.length>0?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(v.default,{style:B(B({},D.cautionsText),D.cautionsHeader),children:"Cautions"}),Object(A.jsx)(E,{style:{borderWidth:2,backgroundColor:"#951831"},items:de,renderItems:function(e){var t=e.item,n=e.index;return Object(A.jsx)(v.default,{style:{color:"white",fontWeight:"bold",textAlign:"center",flex:1,padding:3,fontSize:20},children:t},n)}})]}):void 0,Object(A.jsxs)(v.default,{style:B(B({},D.recipeName),{},{textDecorationLine:"none"}),children:["Calories: ",xe]}),Object(A.jsx)(S.default,{style:{borderWidth:2,borderBottomWidth:0,width:Object(w.default)().width<700?"100%":"50%"},children:Object(A.jsx)(H,{data:ge,renderItem:function(e){var t=e.item,n=e.index;return Object(A.jsxs)(S.default,{style:{borderBottomWidth:1},children:[Object(A.jsx)(v.default,{style:B(B({},D.recipeName),{},{fontSize:20}),children:t.category}),Object(A.jsx)(S.default,{style:{justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(E,{style:{justifyContent:"center"},items:t.values,renderItems:function(e){var t=e.item,n=e.index;return Object(A.jsx)(v.default,{style:{padding:3},children:t},n)}})})]},n)}})})]}),Object(A.jsx)(S.default,{children:Object(A.jsx)(v.default,{style:B({},D.recipeName),children:"Nutrient Information"})}),Object(A.jsx)(S.default,{style:{borderWidth:2,borderBottomWidth:0,marginTop:10,width:Object(w.default)().width<700?"100%":"50%"},children:Object(A.jsx)(H,{data:[{label:"Label",quantity:"Quantity",unit:"(Units)"}].concat(we),renderItem:function(e){var t=e.item,n=e.index;return"number"===typeof t.quantity?Object(A.jsxs)(S.default,{style:B(B({},D.nutrientRow),{},{borderBottomWidth:1}),children:[Object(A.jsx)(v.default,{style:B(B({},D.nutrientCell),{},{textAlign:"left",borderRightWidth:2}),children:t.label}),Object(A.jsxs)(v.default,{style:B(B({},D.nutrientCell),{},{textAlign:"right"}),children:[t.quantity.toFixed(1),t.unit]})]},n):Object(A.jsxs)(S.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:2},children:[Object(A.jsx)(v.default,{style:B(B({},D.nutrientCell),{},{textAlign:"left",fontWeight:"bold",borderRightWidth:2}),children:t.label}),Object(A.jsxs)(v.default,{style:B(B({},D.nutrientCell),{},{textAlign:"right",fontWeight:"bold"}),children:[t.quantity,t.unit]})]},n)}})})]})})]})}}}]);
//# sourceMappingURL=7.56fa8018.chunk.js.map