(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{237:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},238:function(e,t,n){"use strict";n.r(t);t.default=""},239:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return r}));var r=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"row",flexBasis:75,padding:10,justifyContent:"space-between"}})},242:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(271),a=n(0),s=n(97),i=n(10),l=n(237),o=n(108),c=n(38),u=n.n(c),d=n(29),f=n(111),b=n(109),j=n(110),h=n(238),g=n(25);function p(){var e=Object(a.useContext)(j.CsrfCtx),t=Object(a.useContext)(o.AccountCtx),n=Object(d.useNavigation)();function r(){return(r=u()((function*(){var r=yield f.default.get(h.default+"/api/logout/"),a=yield r.data;a.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(a.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(g.jsx)(b.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(g.jsx)(s.default,{style:l.styles.navText,children:"Sign Out"})})}var y=n(241),m=n(239);function O(e){return e.show?Object(g.jsx)(r.default,{to:{screen:"Search"},style:m.SearchStyle.imgContainer,children:Object(g.jsx)(y.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function x(e){var t=Object(a.useContext)(o.AccountCtx);function n(e){return e.show?Object(g.jsx)(r.default,{to:{screen:"Login",params:{toLogin:!0}},style:l.styles.navLink,children:Object(g.jsx)(s.default,{style:l.styles.navText,children:"Login"})}):void 0}function c(e){return e.show?Object(g.jsx)(r.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:l.styles.navLink,children:Object(g.jsx)(s.default,{style:l.styles.navText,children:"Sign Up"})}):void 0}return Object(g.jsxs)(i.default,{style:e.style,children:[Object(g.jsxs)(i.default,{style:{flexDirection:"row"},children:[Object(g.jsx)((function(e){return e.show?Object(g.jsx)(r.default,{style:l.styles.navLink,to:{screen:"Home"},children:Object(g.jsx)(s.default,{style:l.styles.navText,children:"Home"})}):void 0}),{show:"Home"!==e.routeName}),Object(g.jsx)((function(e){if(e.isLoggedIn&&"Profile"!==e.route)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(r.default,{style:l.styles.navLink,to:{screen:"Profile"},children:Object(g.jsx)(s.default,{style:l.styles.navText,children:"Profile"})}),Object(g.jsxs)(s.default,{style:l.styles.usernameText,children:["Username: ",t.username]})]})}),{isLoggedIn:t.loggedIn,route:e.routeName})]}),Object(g.jsxs)(i.default,{style:{flexDirection:"row"},children:[Object(g.jsx)((function(e){return e.isLoggedIn?Object(g.jsx)(p,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(n,{show:"Login"!==e.route}),Object(g.jsx)(c,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(g.jsx)(O,{show:"Search"!==e.routeName})]})]})}},248:function(e,t,n){"use strict";n.r(t),n.d(t,"FormStyle",(function(){return r}));var r=n(9).default.create({formInput:{padding:5,marginTop:10,borderWidth:2,borderRadius:20},formLabel:{marginRight:10,textAlign:"left",fontWeight:"bold"},submitButton:{padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00"}})},278:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var r=n(7),a=n.n(r),s=n(38),i=n.n(s),l=n(8),o=n.n(l),c=n(111),u=n(0),d=n(112),f=n(14),b=n(64),j=n(97),h=n(243),g=n(10),p=n(237),y=n(248),m=n(9).default.create({userField:{textAlign:"center",fontSize:25},submitButton:{backgroundColor:"#ff9100",fontWeight:"bold",padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00",width:150},recentRecipes:{borderTopWidth:2,flexDirection:"row",flexWrap:"wrap",justifyContent:"center"}}),O=n(108),x=n(110),S=n(238),v=n(242),w=n(240),C=n(25);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=Object(u.lazy)((function(){return n.e(2).then(n.bind(null,274))})),T=Object(u.lazy)((function(){return n.e(14).then(n.bind(null,253))})),P=Object(u.lazy)((function(){return n.e(16).then(n.bind(null,275))})),z=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,268))})),L=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function F(e){var t=e.route,n=(e.navigation,Object(u.useContext)(x.CsrfCtx)),r=Object(u.useContext)(O.AccountCtx),a={id:"",name:"No Recent Recipes",image:"",ingredients:[],source:""},s=Object(u.useState)(""),l=o()(s,2),k=l[0],F=l[1],W=Object(u.useState)(""),U=o()(W,2),A=U[0],B=U[1],E=Object(u.useState)(""),H=o()(E,2),N=H[0],D=H[1],M=Object(u.useState)(Object(h.default)().width),V=o()(M,2),Z=V[0],X=(V[1],Object(u.useState)(!1)),Y=o()(X,2),J=Y[0],$=Y[1],q=Object(u.useState)(!1),G=o()(q,2),K=G[0],Q=G[1],_=Object(u.useState)(!1),ee=o()(_,2),te=ee[0],ne=ee[1],re=Object(u.useState)([]),ae=o()(re,2),se=ae[0],ie=ae[1],le=Object(u.useState)(!1),oe=o()(le,2),ce=(oe[0],oe[1]),ue=Object(u.useState)([]),de=o()(ue,2),fe=de[0],be=de[1],je=Object(u.useState)(!1),he=o()(je,2),ge=(he[0],he[1]),pe=Object(u.useState)("red"),ye=o()(pe,2),me=ye[0],Oe=ye[1],xe=Object(u.useState)(""),Se=o()(xe,2),ve=Se[0],we=Se[1],Ce=Object(u.useState)(!0),ke=o()(Ce,2),Ie=ke[0];ke[1];function Re(){return(Re=i()((function*(){try{var e=yield c.default.get(S.default+"/api/getRecentRecipes/"),t=yield e.data;ce(!0),t.results.length<=0?ie([a]):ie(t.results)}catch(n){}}))).apply(this,arguments)}function Te(){return(Te=i()((function*(){try{var e=yield c.default.get(S.default+"/api/getMostRatedRecipes/"),t=yield e.data;ge(!0),t.results.length<=0?be([I(I({},a),{},{name:"No Recipes Rated"})]):be(t.results)}catch(n){}}))).apply(this,arguments)}function Pe(){return(Pe=i()((function*(){if(""!==k)try{var e=yield c.default.put(S.default+"/api/updateUserInfo/",{username:k},{headers:{"X-CSRFToken":n.token,credentials:"include"},withCredentials:!0,responseType:"json"}),t=yield e.data;r.setUsername(k);var a="";for(var s in t)a=t[s];Fe(a,0,!1)}catch(i){Fe(i.response.data.message,0,!0)}else Fe("You haven't entered a username",0,!0)}))).apply(this,arguments)}function ze(){return(ze=i()((function*(){if(""!==A&&null!==A.match(L))try{var e=yield c.default.put(S.default+"/api/updateUserInfo/",{email:A},{headers:{"X-CSRFToken":n.token,credentials:"include"},withCredentials:!0,responseType:"json"}),t=yield e.data;r.setEmail(A);var a="";for(var s in t)a=t[s];Fe(a,1,!1)}catch(i){Fe(i.response.data.message,1,!0)}else Fe("You haven't entered a valid email",1,!0)}))).apply(this,arguments)}function Le(){return(Le=i()((function*(){if(""!==N)try{var e=yield c.default.put(S.default+"/api/updateUserInfo/",{password:N},{headers:{"X-CSRFToken":n.token,credentials:"include"},withCredentials:!0,responseType:"json"}),t=yield e.data,r="";for(var a in t)r=t[a];Fe(r,2,!1)}catch(s){Fe(s.response.data.message,2,!0)}else Fe("You haven't entered a password",2,!0)}))).apply(this,arguments)}function Fe(e,t,n){switch(Oe(n?"red":"green"),t){case 0:$(!0),Q(!1),ne(!1);break;case 1:$(!1),Q(!0),ne(!1);break;case 2:$(!1),Q(!1),ne(!0);break;default:$(!1),Q(!1),ne(!1)}we(e)}Object(u.useEffect)((function(){r.checkCred(n,S.default),function(){Re.apply(this,arguments)}(),function(){Te.apply(this,arguments)}()}),[Ie,t.key]);var We={borderLeftWidth:Z<700?0:2,borderRightWidth:Z<700?0:2,borderBottomWidth:Z<700?0:2},Ue=Z<700?.7*Z:.3*Z,Ae=Math.floor(Z/300);function Be(e){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.default,{style:e.headerStyle,children:e.header}),Object(C.jsx)(g.default,{style:e.listContainerStyle,children:e.data.length>0||e.responded?Object(C.jsx)(R,{data:e.data,renderItem:e.renderItems}):Object(C.jsx)(d.default,{size:"large"})})]})}return Object(C.jsxs)(g.default,{style:p.styles.pageContainer,children:[Object(C.jsx)(v.default,{routeName:t.name,style:I(I({},w.NavBarStyle.container),{},{alignItems:"web"===f.default.OS?"center":"flex-end"})}),Object(C.jsx)(u.Suspense,{fallback:Object(C.jsx)(d.default,{size:"large"}),children:Object(C.jsx)(g.default,{children:Object(C.jsxs)(b.default,{children:[Object(C.jsxs)(g.default,{style:{alignItems:"center"},children:[Object(C.jsx)(P,{containerStyle:{alignItems:"center"},label:"Username:",labelStyle:I(I({},m.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:r.username,labelValueStyle:m.userField,placeholder:"Please enter new username",onChangeText:function(e){F(e)},inputPromptStyle:I(I({},y.FormStyle.formInput),{},{width:Ue}),submitText:"Update Username",submitHandler:function(){return Pe.apply(this,arguments)},submitStyle:m.submitButton}),Object(C.jsx)(z,{style:I(I({},p.styles.errorMsg),{},{backgroundColor:me}),hasError:J,message:ve}),Object(C.jsx)(P,{containerStyle:{alignItems:"center"},label:"Email:",labelStyle:I(I({},m.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:r.email,labelValueStyle:m.userField,placeholder:"Please enter new email",onChangeText:function(e){B(e)},inputPromptStyle:I(I({},y.FormStyle.formInput),{},{width:Ue}),submitText:"Update Email",submitHandler:function(){return ze.apply(this,arguments)},submitStyle:m.submitButton}),Object(C.jsx)(z,{style:I(I({},p.styles.errorMsg),{},{backgroundColor:me}),hasError:K,message:ve}),Object(C.jsx)(P,{containerStyle:{alignItems:"center"},label:"Password:",labelStyle:I(I({},m.userField),{},{fontWeight:"bold"}),labelValueHidden:!0,placeholder:"Please enter new Password",onChangeText:function(e){D(e)},inputPromptStyle:I(I({},y.FormStyle.formInput),{},{width:Ue}),submitText:"Update Password",submitHandler:function(){return Le.apply(this,arguments)},submitStyle:m.submitButton}),Object(C.jsx)(z,{style:I(I({},p.styles.errorMsg),{},{backgroundColor:me}),hasError:te,message:ve})]}),Object(C.jsx)(Be,{headerStyle:{fontSize:30,fontWeight:"bold",textAlign:"center"},listContainerStyle:I(I(I({},We),m.recentRecipes),{},{padding:Z<700?0:3,paddingBottom:Ae<=1?50:0}),header:"Recent Recipes",data:se,renderItems:function(e){var t=e.item;e.index;return Object(C.jsx)(T,{width:Ae<=1?"100%":300,height:300,item:t},t.id)}}),Object(C.jsx)(Be,{headerStyle:{fontSize:30,fontWeight:"bold",textAlign:"center"},listContainerStyle:I(I(I({},We),m.recentRecipes),{},{padding:Z<700?0:3,paddingBottom:Ae<=1?50:0}),header:"Most Rated Recipes",data:fe,renderItems:function(e){var t=e.item;e.index;return Object(C.jsx)(T,{width:Ae<=1?"100%":300,height:300,item:t},t.id)}})]})})})]})}}}]);
//# sourceMappingURL=9.34e1167b.chunk.js.map