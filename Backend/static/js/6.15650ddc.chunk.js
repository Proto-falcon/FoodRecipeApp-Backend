(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{236:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},237:function(e,t,n){"use strict";n.r(t);t.default=""},238:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},239:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return r}));var r=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"row",flexBasis:75,padding:10,justifyContent:"space-between",alignItems:"center"}})},240:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(270),s=n(0),o=n(97),a=n(10),i=n(236),l=n(108),c=n(38),u=n.n(c),d=n(29),f=n(111),j=n(109),b=n(110),g=n(237),h=n(25);function y(){var e=Object(s.useContext)(b.CsrfCtx),t=Object(s.useContext)(l.AccountCtx),n=Object(d.useNavigation)();function r(){return(r=u()((function*(){var r=yield f.default.get(g.default+"/api/logout/"),s=yield r.data;s.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(s.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(h.jsx)(j.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Sign Out"})})}var O=n(242),m=n(238);function p(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"Search"},style:m.SearchStyle.imgContainer,children:Object(h.jsx)(O.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function x(e){var t=Object(s.useContext)(l.AccountCtx);function n(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"Login",params:{toLogin:!0}},style:i.styles.navLink,children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Login"})}):void 0}function c(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:i.styles.navLink,children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Sign Up"})}):void 0}return Object(h.jsxs)(a.default,{style:e.style,children:[Object(h.jsxs)(a.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.show?Object(h.jsx)(r.default,{style:i.styles.navLink,to:{screen:"Home"},children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Home"})}):void 0}),{show:"Home"!==e.routeName}),Object(h.jsx)((function(e){if(e.isLoggedIn&&"Profile"!==e.route)return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.default,{style:i.styles.navLink,to:{screen:"Profile"},children:Object(h.jsx)(o.default,{style:i.styles.navText,children:"Profile"})}),Object(h.jsxs)(o.default,{style:i.styles.usernameText,children:["Username: ",t.username]})]})}),{isLoggedIn:t.loggedIn,route:e.routeName})]}),Object(h.jsxs)(a.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.isLoggedIn?Object(h.jsx)(y,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n,{show:"Login"!==e.route}),Object(h.jsx)(c,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(h.jsx)(p,{show:"Search"!==e.routeName})]})]})}},247:function(e,t,n){"use strict";n.r(t),n.d(t,"FormStyle",(function(){return r}));var r=n(9).default.create({formInput:{padding:5,marginTop:10,borderWidth:2,borderRadius:20},formLabel:{marginRight:10,textAlign:"left",fontWeight:"bold"},submitButton:{padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00"}})},272:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var r=n(7),s=n.n(r),o=n(38),a=n.n(o),i=n(8),l=n.n(i),c=n(111),u=n(0),d=n(112),f=n(109),j=n(97),b=n(241),g=n(10),h=n(236),y=n(247),O=n(237),m=n(110),p=n(108),x=n(240),S=n(239),v=n(25);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=Object(u.lazy)((function(){return n.e(13).then(n.bind(null,248))})),k=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,267))})),P=Object(u.lazy)((function(){return n.e(11).then(n.bind(null,268))})),T=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function z(e){var t=e.route,n=e.navigation,r=Object(u.useContext)(m.CsrfCtx),s=Object(u.useContext)(p.AccountCtx),o=Object(u.useState)(t.params.toLogin),i=l()(o,2),w=i[0],z=(i[1],Object(u.useState)("")),I=l()(z,2),A=I[0],F=I[1],U=Object(u.useState)(""),W=l()(U,2),H=W[0],N=W[1],D=Object(u.useState)(""),E=l()(D,2),R=E[0],B=E[1],Z=Object(u.useState)(!0),M=l()(Z,2),J=M[0],X=M[1],$=Object(u.useState)(""),q=l()($,2),G=q[0],K=q[1],Q=Object(u.useState)(!0),V=l()(Q,2),Y=V[0],_=(V[1],Object(u.useState)(Object(b.default)().width)),ee=l()(_,2),te=ee[0],ne=(ee[1],Object(u.useState)({width:"25%",minWidth:"25%",maxWidth:"25%"})),re=l()(ne,2),se=re[0],oe=re[1];function ae(){return ie.apply(this,arguments)}function ie(){return(ie=a()((function*(){if(w&&(A.length<=0||R<=0))K("Please fill all the fields/ enter corretly."),X(!1);else if(!w&&(A.length<=0||H.length<=0||R<=0))K("Please fill all the fields/ enter corretly."),X(!1);else{X(!0);var e="post",t="signup/";w&&(e="put",t="login/");try{var o=yield Object(c.default)({method:e,headers:{"X-CSRFToken":r.token,credentials:"include"},withCredentials:!0,url:O.default+"/api/"+t,responseType:"json",data:{username:A,email:H,password:R}}),a=yield o.data;a.signUpSuccess?(s.login(),s.setUsername(A),s.setEmail(H),n.navigate("Home")):a.loginSuccess&&(s.login(),s.setUsername(a.user.username),s.setEmail(a.user.email),n.navigate("Home"))}catch(i){K(i.response.data.message),X(!1)}}}))).apply(this,arguments)}return Object(u.useEffect)((function(){s.checkCred(r,O.default),te<700&&oe({width:"50%",minWidth:"50%",maxWidth:"50%"})}),[Y]),Object(v.jsxs)(g.default,{style:h.styles.pageContainer,children:[Object(v.jsx)(x.default,{routeName:t.name,style:S.NavBarStyle.container}),Object(v.jsx)(g.default,{style:{paddingTop:"5%",alignItems:"center"},children:Object(v.jsxs)(u.Suspense,{fallback:Object(v.jsx)(d.default,{size:"large"}),children:[Object(v.jsx)(P,{toLogin:w,usernameHandler:function(e){e.length>50?(X(!1),K("Username too long")):(X(!0),F(e))},emailHandler:function(e){null!=e.match(T)?N(e):N("")},containerStyle:se,labelStyle:y.FormStyle.formLabel,inputStyle:C(C({},y.FormStyle.formInput),{},{borderColor:J?"black":"red"})}),Object(v.jsx)(L,{label:"Password:",placeholder:"Please enter password:",isPassword:!0,onChangeTextHandler:function(e){B(e)},containerStyle:se,labelStyle:y.FormStyle.formLabel,inputStyle:C(C({},y.FormStyle.formInput),{},{borderColor:J?"black":"red"})}),Object(v.jsx)((function(){return Object(v.jsx)(f.default,{style:y.FormStyle.submitButton,onPress:ae,children:Object(v.jsx)(j.default,{style:{fontWeight:"bold"},children:w?"Login":"Sign Up"})})}),{}),Object(v.jsx)(k,{hasError:!J,style:h.styles.errorMsg,message:G})]})})]})}}}]);
//# sourceMappingURL=6.15650ddc.chunk.js.map