(this.webpackJsonp=this.webpackJsonp||[]).push([[11,2],{248:function(e,t,i){"use strict";i.r(t),i.d(t,"recipeListStyle",(function(){return n}));var n=i(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},nameRatingContainer:{marginTop:20,marginBottom:20,borderWidth:1,padding:10},foodName:{fontWeight:"bold",textAlign:"center"}})},250:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return d}));var n=i(7),r=i.n(n),c=i(10),s=i(25);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){r()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e){var t=e.items,i=e.renderItems,n=e.style;return Object(s.jsx)(c.default,{style:a(a({},n),{},{flexDirection:"row",flexWrap:"wrap"}),children:Object(s.jsx)((function(){var e=[];return t.forEach((function(t,n){e.push(i({item:t,index:n}))})),e}),{})})}},269:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return k}));var n=i(17),r=i.n(n),c=i(38),s=i.n(c),o=i(8),a=i.n(o),d=i(111),u=i(0),l=i(114),f=i(14),p=i(110),h=i(64),j=i(108),b=i(10),O=i(239),y=i(29),g=i(48),x=i(112),m=i(248),w=i(115),v=i(244),L=i(70),S=i(25);function R(e){var t=e.item,i=e.height,n=e.width,r=e.flexGrow,c=Object(y.useNavigation)(),o=Object(u.useContext)(x.CsrfCtx),l=Object(u.useContext)(w.RecipeResultsCtx),f=Object(u.useState)((function(){return null===t.rating?"No Rating":t.rating})),h=a()(f,2),R=h[0],P=(h[1],Object(u.useState)((function(){return""!==t.image?t.image.startsWith("http")?{uri:t.image,height:"100%",width:"100%"}:{uri:""+O.default+t.image,height:"100%",width:"100%"}:L.defaultImage}))),k=a()(P,2),C=k[0];k[1];function D(){return(D=s()((function*(e){try{yield d.default.post(O.default+"/api/setRecentRecipe/",{id:e.id},{headers:{"X-CSRFToken":o.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(t){}l.setCurrentRecipeURI(e.id),c.navigate("RecipeInfo",{id:e.id})}))).apply(this,arguments)}return""===t.id?Object(S.jsxs)(b.default,{style:{width:n,height:i,flexGrow:r},children:[Object(S.jsx)(b.default,{style:m.recipeListStyle.foodPicContainer,children:Object(S.jsx)(g.default,{style:m.recipeListStyle.foodPic,source:C})}),Object(S.jsx)(j.default,{style:m.recipeListStyle.foodName,children:t.name})]},t.id):Object(S.jsxs)(p.default,{onPress:function(){return function(e){return D.apply(this,arguments)}(t)},style:{width:n,height:i,flexGrow:r},children:[Object(S.jsx)(b.default,{style:m.recipeListStyle.foodPicContainer,children:Object(S.jsx)(g.default,{style:m.recipeListStyle.foodPic,source:C})}),Object(S.jsxs)(b.default,{style:m.recipeListStyle.nameRatingContainer,children:[Object(S.jsx)(j.default,{style:m.recipeListStyle.foodName,children:t.name}),Object(S.jsxs)(j.default,{style:m.recipeListStyle.foodName,children:[Object(S.jsx)(v.FontAwesomeIcon,{icon:"star"})," ",R]})]})]},t.id)}var P=i(250);function k(e){var t=Object(u.useState)(e.recipes),i=a()(t,2),n=i[0],c=i[1],o=Object(u.useState)((new Date).getTime()),y=a()(o,2),g=y[0],x=y[1],m=Object(u.useState)(!1),w=a()(m,2),v=w[0],k=w[1];function C(e){return D.apply(this,arguments)}function D(){return(D=s()((function*(t){t.distanceFromEnd;if(void 0!==e.setData&&e.canLoad){var i=(new Date).getTime();if(void 0!=e.recipeLink&&""!=e.recipeLink&&!v&&i-g>6e3){try{var s=yield Object(d.default)({method:"get",url:O.default+"/api/addRecipes/?nextLink="+e.recipeLink,responseType:"json"}),o=yield s.data;e.setData(o.results,o.addRecipesLink)}catch(a){k(!0)}x(i)}else""!=n[n.length-1].id&&v&&c((function(e){var t=r()(e);return t.push(L.NoMoreRecipes),t}))}}))).apply(this,arguments)}return Object(u.useEffect)((function(){e.canLoad&&e.recipes.length<20&&(""!==e.recipeLink||void 0!==e.recipeLink)&&""!==e.recipes[e.recipes.length-1].id&&(k(!0),c((function(){var t=e.recipes;return t.push(L.NoMoreRecipes),t}))),c(e.recipes)}),[e.recipes]),Object(S.jsx)(b.default,{style:{width:"100%"},children:"web"!=f.default.OS?Object(S.jsx)(l.default,{data:n,renderItem:function(e){var t=e.item;return Object(S.jsx)(R,{height:300,width:"100%",item:t})},onEndReached:C,onEndReachedThreshold:2,extraData:n}):Object(S.jsxs)(h.default,{children:[Object(S.jsx)(P.default,{items:n,renderItems:function(e){var t=e.item,i=e.index;return Object(S.jsx)(R,{height:300,width:300,item:t,flexGrow:1},i)}}),Object(S.jsx)((function(e){if(e.loadMore)return Object(S.jsx)(p.default,{style:{backgroundColor:"ff6e00",padding:5},onPress:C,children:Object(S.jsx)(j.default,{style:{textAlign:"center",fontWeight:"bold",fontSize:50},children:"Load More"})})}),{loadMore:e.canLoad&&!v&&""!==e.recipeLink})]})})}}}]);
//# sourceMappingURL=11.76a14bd3.chunk.js.map