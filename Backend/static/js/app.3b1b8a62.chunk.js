(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{114:function(e,t,n){e.exports=n.p+"static/media/favicon.fa4783d1.png"},116:function(e,t,n){e.exports=n.p+"static/media/searchIcon.498a808b.png"},163:function(e,t,n){e.exports=n(205)},205:function(e,t,n){"use strict";n.r(t);var r=n(220),i=n(219),a=n(217),c=n(218),o=n(156),s=n(5),l=n.n(s),u=n(7),d=n.n(u),f=n(0),j=n(16),b=n(10),p=n(30),h=n.n(p),O=n(35),g=n(1),y=Object(f.createContext)({loggedIn:!1,username:"",email:"",setLoginStatus:function(){},setUsername:function(e){},setEmail:function(e){},checkCred:function(e,t){}});function m(e){var t=Object(f.useState)(!1),n=d()(t,2),r=n[0],i=n[1],a=Object(f.useState)(""),c=d()(a,2),o=c[0],s=c[1],l=Object(f.useState)(""),u=d()(l,2),j=u[0],b=u[1];function p(){return(p=h()((function*(e,t){if(!r){var n=yield O.default.get(t+"/api/checkLogin/"),i=yield n.data;e.setCsrfToken(i.token),0!=i.user&&(m(),v(i.user.username),x(i.user.email))}}))).apply(this,arguments)}function m(){i((function(e){return!e}))}function x(e){""==e?b(""):e.match(/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/)&&b(e)}function v(e){e.length>0?s(e):s("")}return Object(g.jsx)(y.Provider,{value:{loggedIn:r,username:o,email:j,setLoginStatus:m,setUsername:v,setEmail:x,checkCred:function(e,t){return p.apply(this,arguments)}},children:e.children})}var x=y,v=Object(f.createContext)({token:"",setCsrfToken:function(e){}});function S(e){var t=Object(f.useState)(""),n=d()(t,2),r=n[0],i=n[1];return Object(g.jsx)(v.Provider,{value:{token:r,setCsrfToken:function(e){i(e)}},children:e.children})}var w=v,P=Object(f.createContext)({moreRecipesLink:"",setAddRecipesLink:function(e){},exclusions:[""],updateExclusions:function(e){},results:[{uri:"",name:"No Recipe Name Available",image:n(114),ingredients:[""],source:""}],getRecipes:function(e){},addRecipes:function(e,t){},isLoading:!1,setIsLoading:function(e){}});function k(e){var t=Object(f.useState)([{uri:"",name:"No Recipe Name Available",image:"",ingredients:["None"],source:""}]),n=d()(t,2),r=n[0],i=n[1],a=Object(f.useState)([]),c=d()(a,2),o=c[0],s=c[1];var l=Object(f.useState)(""),u=d()(l,2),j=u[0],b=u[1],p=Object(f.useState)(!1),h=d()(p,2),O=h[0],y=h[1];function x(e){b(e)}return Object(g.jsx)(S,{children:Object(g.jsx)(m,{children:Object(g.jsx)(P.Provider,{value:{moreRecipesLink:j,exclusions:o,updateExclusions:function(e){s(e)},results:r,getRecipes:function(e){""!=e[0].uri&&(i([{id:"",name:"No Recipe Name Available",image:"",ingredients:["None"],source:""}]),i(e))},setAddRecipesLink:x,addRecipes:function(e,t){for(var n=[],a=0;a<r.length;a++)n.push(r[a]);for(var c=0;c<e.length;c++)n.push(e[c]);i(n),x(t)},isLoading:O,setIsLoading:y},children:e.children})})})}var L=P,C=n(18),T=n.n(C),E=n(51),D=n(37),R=n(50);var I=n(11),H=I.default.create({list:{flex:1,width:"50%",maxWidth:300},foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},foodName:{marginTop:20,marginBottom:20,fontWeight:"bold",padding:10,borderWidth:1,textAlign:"center"}});function U(e){var t=Object(f.useState)(e.recipes),r=d()(t,2),i=r[0],a=r[1],c=Object(f.useState)(!0),o=d()(c,2),s=o[0],l=o[1],u=Object(f.useState)(!1),p=d()(u,2),y=p[0],m=p[1];function x(){return(x=h()((function*(t){t.distanceFromEnd;if(void 0!=e.recipeLink&&""!=e.recipeLink&&s){var n="";e.exlusions.forEach((function(t,r){n+="excluded="+t,r<e.exlusions&&(n+="&")}));try{var r=yield Object(O.default)({method:"get",url:"/api/addRecipes/?nextLink="+e.recipeLink+"&"+n,responseType:"json"}),c=yield r.data;e.setData(c.results,c.addRecipesLink)}catch(o){l(!1)}}else""==i[i.length-1].uri||y||(a((function(e){var t=T()(e);return t.push({uri:"",name:"No more Recipes",image:"",ingredients:[],source:""}),t})),m((function(e){return!e})))}))).apply(this,arguments)}Object(f.useEffect)((function(){a(e.recipes)}),[e.recipes]);var v={flex:1,width:Object(R.default)().width>700?"30%":"100%"};return Object(g.jsx)(b.default,{style:[v],children:Object(g.jsx)(E.default,{data:i,renderItem:function(e){var t=e.item,r="";return r=""!=t.image?{uri:t.image,height:"100%",width:"100%"}:n(114),Object(g.jsxs)(b.default,{children:[Object(g.jsx)(b.default,{style:H.foodPicContainer,children:Object(g.jsx)(D.default,{style:H.foodPic,source:r})}),Object(g.jsx)(j.default,{style:H.foodName,children:t.name})]})},onEndReached:function(e){return x.apply(this,arguments)},onEndReachedThreshold:2,extraData:i})})}var W=I.default.create({container:{flex:2,alignItems:"center"},imgContainer:{flexBasis:30,height:30,marginTop:7,marginBottom:7}}),A=I.default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{marginTop:10,textAlign:"center"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}}),z=n(27),B=n(33);function Z(){var e=Object(f.useContext)(w),t=Object(f.useContext)(x),n=Object(z.useNavigation)();function r(){return(r=h()((function*(){var r=yield O.default.get("/api/logout/"),i=yield r.data;i.loggedOut&&(t.setLoginStatus(!1),t.setUsername(""),t.setEmail(""),e.setCsrfToken(i.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(g.jsx)(B.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(g.jsx)(j.default,{style:A.navText,children:"Sign Out"})})}function N(e){return Object(g.jsx)(b.default,{style:{flexDirection:"row",flexWrap:"wrap"},children:e.children})}function M(){var e=n(116);return Object(g.jsx)(a.default,{to:{screen:"Search"},style:W.imgContainer,children:Object(g.jsx)(D.default,{style:A.searchIcon,source:e})})}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=e.navigation,n=Object(f.useContext)(L),r=Object(f.useContext)(w),i=Object(f.useContext)(x),c=Object(f.useState)(!0),o=d()(c,2),s=o[0];o[1];return Object(f.useEffect)((function(){return n.setIsLoading(!1)}),[n.isLoading]),Object(f.useEffect)((function(){i.checkCred(r,"")}),[s]),Object(f.useEffect)((function(){i.loggedIn?t.setOptions({headerLeft:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{style:A.navLink,to:{screen:"Profile"},children:Object(g.jsx)(j.default,{style:A.navText,children:"Profile"})}),Object(g.jsxs)(j.default,{style:A.usernameText,children:["Username: ",i.username]})]})},headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(Z,{}),Object(g.jsx)(M,{})]})}}):t.setOptions({headerLeft:function(){},headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Login"})}),Object(g.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Sign Up"})}),Object(g.jsx)(M,{})]})}})}),[i.loggedIn,i.username]),Object(g.jsx)(b.default,{style:F(F({},W.container),A.pageContainer),children:!n.isLoading&&Object(g.jsx)(U,{recipes:n.results,setData:n.addRecipes,recipeLink:n.moreRecipesLink,exlusions:n.exclusions})})}var G=n(99),J=n(56),X=I.default.create({listContainer:{borderWidth:2}});function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=Object(f.useState)(e.selectedData),n=d()(t,2),r=n[0],i=n[1];function a(e){var t=!1;return r.forEach((function(n){n==e&&(t=!0)})),t}function c(e){var t;a(e)?(t=e,i((function(e){var n=[];return e.forEach((function(e){return e!=t?n.push(e):null})),n}))):function(e){i((function(t){var n=[];return(n=n.concat(t)).push(e),n}))}(e)}return Object(f.useEffect)((function(){return i(e.selectedData)}),[e.type]),Object(f.useEffect)((function(){return e.updateData(e.type,r)}),[r]),Object(g.jsx)(b.default,{style:K(K({},X.listContainer),e.style),children:Object(g.jsx)(E.default,{data:e.data,renderItem:function(e){var t=e.item;return Object(g.jsx)(B.default,{onPress:function(e){return c(t)},style:{width:175,backgroundColor:a(t)?"#00ff0d":"#fd5d00",padding:5,alignItems:"center"},children:Object(g.jsx)(j.default,{style:{fontWeight:"bold"},children:t})})},extraData:r})})}var Y=I.default.create({container:{flex:1,alignItems:"center",marginTop:10,marginLeft:"auto",marginRight:"auto"},textButtonContainer:{flexDirection:"row",flexBasis:50,maxHeight:50},searchIcon:{height:25,marginTop:7,width:"100%",resizeMode:"contain"},imgContainer:{flexBasis:20,height:30},input:{height:40,marginLeft:10,padding:15,paddingBottom:10,borderColor:"black",borderWidth:1,borderRadius:20},optionsContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",minWidth:400,width:"30%"},optionTypes:{width:100,backgroundColor:"#ff9100",alignItems:"center"},text:{textAlign:"center",padding:5},optionTypeHeader:{backgroundColor:"#ffee00",fontWeight:"bold"},selectedMetaText:{fontSize:25},selectedOptionsContainer:{height:"80%",minHeight:"80%",maxHeight:"80%",borderWidth:2,marginBottom:5}}),_={diet:["balanced","high-fiber","high-protein","low-carb","low-fat","low-sodium"],health:["alcohol-cocktail","alcohol-free","celery-free","crustacean-free","dairy-free","DASH","egg-free","fish-free","fodmap-free","gluten-free","immuno-supportive","keto-friendly","kidney-friendly","kosher","low-potassium","low-sugar","lupine-free","Mediterranean","mollusk-free","mustard-free","No-oil-added","paleo","peanut-free","pecatarian","pork-free","red-meat-free","sesame-free","shellfish-free","soy-free","sugar-conscious","sulfite-free","tree-nut-free","vegan","vegetarian","wheat-free"],mealType:["breakfast","brunch","lunch/dinner","snack","teatime"],dishType:["alcohol cocktail","biscuits and cookies","bread","cereals","condiments and sauces","desserts","drinks","egg","ice cream and custard","main course","pancake","pasta","pastry","pies and tarts","pizza","preps","preserve","salad","sandwiches","seafood","side dish","soup","special occasions","starter","sweets"],cuisineType:["american","asian","british","caribbean","central europe","eastern europe","chinese","french","greek","indian","italian","japanese","korean","kosher","mediterranean","mexican","middle eastern","nordic","south american","south east asia","world"]};function ee(e){return e.hasError?Object(g.jsx)(j.default,{style:e.style,children:e.message}):null}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=e.navigation,r=Object(f.useContext)(L),i=Object(f.useContext)(x),c=Object(f.useContext)(w),o=Object(f.useState)({diet:[],health:[],cuisineType:[],mealType:[],dishType:[]}),s=d()(o,2),l=s[0],u=s[1],p=Object(f.useState)((function(){var e=[];for(var t in l)e.push(t);return e})),y=d()(p,2),m=y[0],v=(y[1],Object(f.useState)(m[0])),S=d()(v,2),P=S[0],k=S[1],C=Object(f.useState)(""),I=d()(C,2),H=I[0],U=I[1],W=Object(f.useState)(""),z=d()(W,2),M=z[0],V=z[1],F=Object(f.useState)([]),$=d()(F,2),X=$[0],q=$[1],K=Object(f.useState)(!1),te=d()(K,2),re=te[0],ie=te[1],ae=Object(f.useState)(""),ce=d()(ae,2),oe=ce[0],se=ce[1],le=Object(f.useState)(!0),ue=d()(le,2),de=ue[0];ue[1];function fe(){var e=0;for(var t in l)l[t].length<=0&&(e+=1);return e>=m.length}function je(){return be.apply(this,arguments)}function be(){return(be=h()((function*(){if(H.length<=0&&fe()&&X.length<=0)return ie(!0),void se("Please enter food name/ingredients");ie(!1);var e="";if(!fe()){var n=0,i=function(t){e.length>0&&n<m.length-1&&l[t].length>0&&(e+="&"),l[t].forEach((function(n,r){e+=t+"="+n,r<l[t].length-1&&(e+="&")})),n+=1};for(var a in l)i(a)}X.length>0&&(r.updateExclusions(X),e.length>0&&(e+="&"),X.forEach((function(t,n){e+="excluded="+t.trim(),n<X.length-1&&(e+="&")}))),H.trim().length>0&&(e.length>0&&(e+="&"),e+="ingredients="+H.trim());try{var c=yield Object(O.default)({method:"get",url:"/api/fetchRecipes/?"+e,responseType:"json"}),o=yield c.data;r.getRecipes(o.results),r.setAddRecipesLink(o.addRecipesLink),r.setIsLoading(!0),t.navigate("Home")}catch(s){ie(!0),se("Unable to retrieve any recipes")}}))).apply(this,arguments)}function pe(){""!==M&&(q((function(e){return[].concat(T()(e),[M])})),V(""))}return Object(f.useEffect)((function(){i.checkCred(c,"")}),[de]),Object(f.useEffect)((function(){i.loggedIn?t.setOptions({headerLeft:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{style:A.navLink,to:{screen:"Home"},children:Object(g.jsx)(j.default,{style:A.navText,children:"Home"})}),Object(g.jsx)(a.default,{style:A.navLink,to:{screen:"Profile"},children:Object(g.jsx)(j.default,{style:A.navText,children:"Profile"})}),Object(g.jsxs)(j.default,{style:A.usernameText,children:["Username: ",i.username]})]})},headerRight:function(){return Object(g.jsx)(Z,{})}}):t.setOptions({headerLeft:function(){return Object(g.jsx)(a.default,{style:A.navLink,to:{screen:"Home"},children:Object(g.jsx)(j.default,{style:A.navText,children:"Home"})})},headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Login"})}),Object(g.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Sign Up"})})]})}})}),[i.loggedIn]),Object(g.jsxs)(b.default,{style:ne(ne(ne({},Y.container),A.pageContainer),{},{width:Object(R.default)().width<700?"100%":"70%"}),children:[Object(g.jsxs)(b.default,{style:Y.textButtonContainer,children:[Object(g.jsx)(B.default,{style:Y.imgContainer,onPress:je,children:Object(g.jsx)(D.default,{style:Y.searchIcon,source:n(116)})}),Object(g.jsx)(J.default,{style:[Y.input,{borderColor:re?"red":"black"}],onChangeText:function(e){U(e)},placeholder:"Enter recipe names/ingredients",onSubmitEditing:je})]}),Object(g.jsxs)(b.default,{style:Y.textButtonContainer,children:[Object(g.jsx)(B.default,{onPress:pe,style:{paddingTop:10},children:Object(g.jsx)(j.default,{style:{fontWeight:"bold"},children:"Exclude"})}),Object(g.jsx)(J.default,{style:[Y.input,{borderColor:re?"red":"black"}],onChangeText:function(e){V(e)},value:M,placeholder:"Enter ingredients to exclude",onSubmitEditing:pe})]}),Object(g.jsx)(ee,{hasError:re,style:A.errorMsg,message:oe}),Object(g.jsxs)(b.default,{style:ne(ne({},Y.optionsContainer),{},{maxHeight:Object(R.default)().height/2.5,flexDirection:"row"}),children:[Object(g.jsx)(b.default,{children:Object(g.jsx)(E.default,{data:X,renderItem:function(e){var t=e.item;return Object(g.jsx)(B.default,{children:Object(g.jsx)(j.default,{style:{textAlign:"center"},children:t})})}})}),Object(g.jsx)((function(){var e=[];for(var t in l)e.push({optionType:t,data:l[t]});return Object(g.jsxs)(b.default,{style:ne(ne({},Y.selectedOptionsContainer),{},{width:"100%"}),children:[Object(g.jsx)(j.default,{style:ne(ne(ne({},Y.text),Y.selectedMetaText),{},{fontWeight:"bold"}),children:"Selected Options"}),Object(g.jsx)(G.default,{style:{width:"100%"},sections:e,renderItem:function(e){var t=e.item;return Object(g.jsx)(j.default,{style:ne({},Y.text),children:t})},renderSectionHeader:function(e){var t=e.section.optionType;return Object(g.jsx)(j.default,{style:ne(ne(ne({},Y.optionTypeHeader),Y.selectedMetaText),Y.text),children:t})}})]})}),{}),Object(g.jsx)(b.default,{style:{borderWidth:2,marginBottom:5,height:99},children:Object(g.jsx)(E.default,{data:m,renderItem:function(e){var t=e.item;return Object(g.jsx)(B.default,{style:Y.optionTypes,onPress:function(){return k(t)},children:Object(g.jsx)(j.default,{style:{fontWeight:"bold"},children:t})})}})}),Object(g.jsx)(Q,{style:{height:99},type:P,data:_[P],selectedData:l[P],updateData:function(e,t){u((function(n){var r=ne({},n);return r[e]=t,r}))}})]})]})}var ie=n(13);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=e.label,n=e.placeholder,r=void 0===n?"":n,i=e.isPassword,a=void 0!==i&&i,c=e.onChangeTextHandler,o=void 0===c?void 0:c,s=e.inputStyle,l=void 0===s?{}:s,u=e.labelStyle,d=void 0===u?{}:u,f=e.containerStyle,p=void 0===f?{}:f;return Object(g.jsxs)(b.default,{style:ce({},p),children:[Object(g.jsx)(j.default,{style:ce({},d),children:t}),Object(g.jsx)(J.default,{style:ce({},l),secureTextEntry:a,onChangeText:o,placeholder:r})]})}function se(e){return e.toLogin?Object(g.jsx)(oe,{label:"Username:",placeholder:"Enter username:",onChangeTextHandler:e.usernameHandler,containerStyle:e.containerStyle,labelStyle:e.labelStyle,inputStyle:e.inputStyle}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(oe,{label:"Username:",placeholder:"Please enter username:",onChangeTextHandler:e.usernameHandler,containerStyle:e.containerStyle,labelStyle:e.labelStyle,inputStyle:e.inputStyle}),Object(g.jsx)(oe,{label:"Email:",placeholder:"Please enter email:",onChangeTextHandler:e.emailHandler,containerStyle:e.containerStyle,labelStyle:e.labelStyle,inputStyle:e.inputStyle})]})}var le=I.default.create({formInput:{padding:5,marginTop:10,borderWidth:2,borderRadius:20},formLabel:{marginRight:10,textAlign:"left",fontWeight:"bold"},submitButton:{padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00"}});function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function je(e){var t=e.route,n=e.navigation,r=Object(f.useContext)(w),i=Object(f.useContext)(x),a=Object(f.useState)(t.params.toLogin),c=d()(a,2),o=c[0],s=(c[1],Object(f.useState)("")),l=d()(s,2),u=l[0],p=l[1],y=Object(f.useState)(""),m=d()(y,2),v=m[0],S=m[1],P=Object(f.useState)(""),k=d()(P,2),L=k[0],C=k[1],T=Object(f.useState)(!0),E=d()(T,2),D=E[0],R=E[1],I=Object(f.useState)(""),H=d()(I,2),U=H[0],W=H[1],z=Object(f.useState)(!0),Z=d()(z,2),N=Z[0],M=(Z[1],Object(f.useState)({width:"25%",minWidth:"25%",maxWidth:"25%"})),V=d()(M,2),F=V[0],$=V[1];function G(){return J.apply(this,arguments)}function J(){return(J=h()((function*(){if(o&&(u.length<=0||L<=0))W("Please fill all the fields/ enter corretly."),R(!1);else if(!o&&(u.length<=0||v.length<=0||L<=0))W("Please fill all the fields/ enter corretly."),R(!1);else{R(!0);var e="post",t="signup/";o&&(e="put",t="login/");try{var a=yield Object(O.default)({method:e,headers:{"X-CSRFToken":r.token,credentials:"include"},withCredentials:!0,url:"/api/"+t,responseType:"json",data:{username:u,email:v,password:L}}),c=yield a.data;c.signUpSuccess?(i.setLoginStatus(!0),i.setUsername(u),i.setEmail(v),n.navigate("Home")):c.loginSuccess&&(i.setLoginStatus(!0),i.setUsername(c.user.username),i.setEmail(c.user.email),n.navigate("Home"))}catch(s){W(s.response.data.message),R(!1)}}}))).apply(this,arguments)}return Object(f.useEffect)((function(){i.checkCred(r,""),"web"!=ie.default.OS&&$({width:"50%",minWidth:"50%",maxWidth:"50%"})}),[N]),Object(g.jsxs)(b.default,{style:de(de({},A.pageContainer),{},{alignItems:"center"}),children:[Object(g.jsx)(se,{toLogin:o,usernameHandler:function(e){e.length>50?(R(!1),W("Username too long")):(R(!0),p(e))},emailHandler:function(e){null!=e.match(fe)?S(e):S("")},containerStyle:F,labelStyle:le.formLabel,inputStyle:de(de({},le.formInput),{},{borderColor:D?"black":"red"})}),Object(g.jsx)(oe,{label:"Password:",placeholder:"Please enter password:",isPassword:!0,onChangeTextHandler:function(e){C(e)},containerStyle:F,labelStyle:le.formLabel,inputStyle:de(de({},le.formInput),{},{borderColor:D?"black":"red"})}),Object(g.jsx)((function(){return Object(g.jsx)(B.default,{style:le.submitButton,onPress:G,children:Object(g.jsx)(j.default,{style:{fontWeight:"bold"},children:o?"Login":"Sign Up"})})}),{}),Object(g.jsx)(ee,{hasError:!D,style:A.errorMsg,message:U})]})}function be(e){return Object(g.jsxs)(b.default,{style:e.containerStyle,children:[Object(g.jsx)(j.default,{style:e.labelStyle,children:e.label}),Object(g.jsx)((function(){return e.labelValueHidden?Object(g.jsx)(j.default,{}):Object(g.jsx)(j.default,{style:e.labelValueStyle,children:e.labelValue})}),{}),Object(g.jsxs)(b.default,{style:{flexDirection:Object(R.default)().width<700?"column":"row",justifyContent:"center",width:"200%"},children:[Object(g.jsx)(J.default,{style:e.inputPromptStyle,placeholder:e.placeholder,onChangeText:e.onChangeText}),Object(g.jsx)(B.default,{style:e.submitStyle,onPress:e.submitHandler,children:Object(g.jsx)(j.default,{children:e.submitText})})]})]})}var pe=I.default.create({userField:{textAlign:"center",fontSize:25},submitButton:{backgroundColor:"#ff9100",fontWeight:"bold",padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00",width:150}});function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function ye(e){e.route,e.navigation;var t=Object(f.useContext)(w),n=Object(f.useContext)(x),r=Object(f.useState)(""),i=d()(r,2),a=i[0],c=i[1],o=Object(f.useState)(""),s=d()(o,2),l=s[0],u=s[1],j=Object(f.useState)(""),p=d()(j,2),y=p[0],m=p[1],v=Object(f.useState)(!0),S=d()(v,2),P=S[0];S[1];function k(){return(k=h()((function*(){try{yield O.default.put("",{username:a}),n.setUsername(a)}catch(e){console.log("error status: "+e.response.status)}}))).apply(this,arguments)}function L(){return(L=h()((function*(){try{yield O.default.put("",{email:l}),n.setEmail(l)}catch(e){console.log("error status: "+e.response.status)}}))).apply(this,arguments)}function C(){return(C=h()((function*(){try{var e=yield O.default.put("",{password:y});(yield e.data).successful?console.log("Password Updated"):console.lo("Password not updated")}catch(t){console.log("error status: "+t.response.status)}}))).apply(this,arguments)}Object(f.useEffect)((function(){n.checkCred(t,"")}),[P]);var T={width:Object(R.default)().width<700?"70%":"30%"};return Object(g.jsxs)(b.default,{style:Oe(Oe({},A.pageContainer),{},{alignItems:"center"}),children:[Object(g.jsx)(be,{containerStyle:{alignItems:"center"},label:"Username:",labelStyle:Oe(Oe({},pe.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:n.username,labelValueStyle:pe.userField,placeholder:"Please enter new username",onChangeText:function(e){c(e)},inputPromptStyle:Oe(Oe({},le.formInput),T),submitText:"Update Username",submitHandler:function(){return k.apply(this,arguments)},submitStyle:pe.submitButton}),Object(g.jsx)(be,{containerStyle:{alignItems:"center"},label:"Email:",labelStyle:Oe(Oe({},pe.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:n.email,labelValueStyle:pe.userField,placeholder:"Please enter new email",onChangeText:function(e){null!=e.match(ge)&&u(e)},inputPromptStyle:Oe(Oe({},le.formInput),T),submitText:"Update Email",submitHandler:function(){return L.apply(this,arguments)},submitStyle:pe.submitButton}),Object(g.jsx)(be,{containerStyle:{alignItems:"center"},label:"Password:",labelStyle:Oe(Oe({},pe.userField),{},{fontWeight:"bold"}),labelValueHidden:!0,placeholder:"Please enter new Password",onChangeText:function(e){m(e)},inputPromptStyle:Oe(Oe({},le.formInput),T),submitText:"Update Password",submitHandler:function(){return C.apply(this,arguments)},submitStyle:pe.submitButton})]})}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(){return Object(g.jsx)(b.default,{style:xe({},A.pageContainer)})}Object(r.default)((function(){var e=Object(c.default)();return Object(g.jsxs)(k,{children:[Object(g.jsx)(i.default,{linking:{config:{screens:{Home:"Home",Search:"Search",RecipeInfo:"RecipeInfo",SignIn:"SignUp",Login:"Login",Profile:"Profile"}}},children:Object(g.jsxs)(e.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#fd5d00"},headerTitle:function(){},headerLeft:function(){},headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Login"})}),Object(g.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Sign Up"})}),Object(g.jsx)(M,{})]})}},children:[Object(g.jsx)(e.Screen,{name:"Home",component:$}),Object(g.jsxs)(e.Group,{screenOptions:function(e){e.route,e.navigation;return{headerLeft:function(){return Object(g.jsx)(a.default,{style:A.navLink,to:{screen:"Home"},children:Object(g.jsx)(j.default,{style:A.navText,children:"Home"})})}}},children:[Object(g.jsxs)(e.Group,{screenOptions:{headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Login"})}),Object(g.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Sign Up"})}),Object(g.jsx)(M,{})]})}},children:[Object(g.jsx)(e.Screen,{name:"Search",component:re}),Object(g.jsx)(e.Screen,{name:"RecipeInfo",component:ve})]}),Object(g.jsx)(e.Screen,{name:"SignUp",component:je,options:{headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{to:{screen:"Login",params:{toLogin:!0}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Login"})}),Object(g.jsx)(M,{})]})}}}),Object(g.jsx)(e.Screen,{name:"Login",component:je,options:{headerRight:function(){return Object(g.jsxs)(N,{children:[Object(g.jsx)(a.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:A.navLink,children:Object(g.jsx)(j.default,{style:A.navText,children:"Sign Up"})}),Object(g.jsx)(M,{})]})}}}),Object(g.jsx)(e.Screen,{name:"Profile",component:ye,options:{headerRight:function(){return Object(g.jsx)(M,{})}}})]})]})}),Object(g.jsx)(o.StatusBar,{})]})}))}},[[163,1,2]]]);
//# sourceMappingURL=app.3b1b8a62.chunk.js.map