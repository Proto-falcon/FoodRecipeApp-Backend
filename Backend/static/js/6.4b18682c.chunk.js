(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{237:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},238:function(e,t,n){"use strict";n.r(t);t.default=""},239:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return r}));var r=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"row",flexBasis:75,padding:10,justifyContent:"space-between"}})},242:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(271),i=n(0),s=n(97),c=n(10),a=n(237),o=n(108),l=n(38),u=n.n(l),d=n(29),f=n(111),j=n(109),g=n(110),b=n(238),h=n(25);function O(){var e=Object(i.useContext)(g.CsrfCtx),t=Object(i.useContext)(o.AccountCtx),n=Object(d.useNavigation)();function r(){return(r=u()((function*(){var r=yield f.default.get(b.default+"/api/logout/"),i=yield r.data;i.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(i.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(h.jsx)(j.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Sign Out"})})}var x=n(241),y=n(239);function p(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"Search"},style:y.SearchStyle.imgContainer,children:Object(h.jsx)(x.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function m(e){var t=Object(i.useContext)(o.AccountCtx);function n(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"Login",params:{toLogin:!0}},style:a.styles.navLink,children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Login"})}):void 0}function l(e){return e.show?Object(h.jsx)(r.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:a.styles.navLink,children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Sign Up"})}):void 0}return Object(h.jsxs)(c.default,{style:e.style,children:[Object(h.jsxs)(c.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.show?Object(h.jsx)(r.default,{style:a.styles.navLink,to:{screen:"Home"},children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Home"})}):void 0}),{show:"Home"!==e.routeName}),Object(h.jsx)((function(e){if(e.isLoggedIn&&"Profile"!==e.route)return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.default,{style:a.styles.navLink,to:{screen:"Profile"},children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Profile"})}),Object(h.jsxs)(s.default,{style:a.styles.usernameText,children:["Username: ",t.username]})]})}),{isLoggedIn:t.loggedIn,route:e.routeName})]}),Object(h.jsxs)(c.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.isLoggedIn?Object(h.jsx)(O,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n,{show:"Login"!==e.route}),Object(h.jsx)(l,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(h.jsx)(p,{show:"Search"!==e.routeName})]})]})}},245:function(e,t,n){"use strict";n.r(t),n.d(t,"recipeListStyle",(function(){return r}));var r=n(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},nameRatingContainer:{marginTop:20,marginBottom:20,borderWidth:1,padding:10},foodName:{fontWeight:"bold",textAlign:"center"}})},277:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var r=n(7),i=n.n(r),s=n(38),c=n.n(s),a=n(8),o=n.n(a),l=n(111),u=n(0),d=n(112),f=n(113),j=n(48),g=n(247),b=n(14),h=n(109),O=n(97),x=n(10),y=n(237),p=n(245),m=n(108),v=n(238),S=n(242),C=n(110),w=n(240),R=n(241),I=n(9).default.create({recipeName:{textAlign:"center",fontSize:30,fontWeight:"bold",textDecorationLine:"underline"},srcRatingContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"flex-end",width:"70%"},source:{backgroundColor:"#fd5d00",margin:10,padding:10,borderRadius:20,alignItems:"center",maxHeight:45},ratingsContainer:{width:"100%",alignItems:"center",borderWidth:2},ratingButton:{width:33,padding:10},ingredientsHeader:{fontWeight:"bold",fontSize:20,textDecorationLine:"underline",textAlign:"center"}}),L=n(114),k=n(25);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=Object(u.lazy)((function(){return n.e(2).then(n.bind(null,254))}));function N(e){var t=e.route,r=e.navigation,i=Object(u.useContext)(m.AccountCtx),s=Object(u.useContext)(C.CsrfCtx),a=Object(u.useContext)(L.RecipeResultsCtx),P=Object(u.useState)(!1),N=o()(P,2),U=N[0],W=N[1],D=Object(u.useState)(!0),A=o()(D,2),H=A[0],B=(A[1],Object(u.useState)("Recipe Unavailable")),F=o()(B,2),E=F[0],M=F[1],J=Object(u.useState)(n(178)),X=o()(J,2),q=X[0],G=X[1],K=Object(u.useState)([]),Q=o()(K,2),V=Q[0],Y=Q[1],Z=Object(u.useState)(""),$=o()(Z,2),_=$[0],ee=$[1],te=Object(u.useState)([0,1]),ne=o()(te,2),re=ne[0],ie=ne[1],se=Object(u.useState)("0.0"),ce=o()(se,2),ae=ce[0],oe=ce[1],le=Object(u.useState)(0),ue=o()(le,2),de=ue[0],fe=ue[1];function je(e,t){if(e>t)ie([e]);else{for(var n=[],r=e;r<=t;r++)n.push(r);ie(n)}}function ge(){return(ge=c()((function*(e){fe(e);try{yield l.default.put(v.default+"/api/setRating/",{id:t.params.id,rating:e},{headers:{"X-CSRFToken":s.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(n){}}))).apply(this,arguments)}function be(){return(be=c()((function*(){_.length>0&&((yield g.default.canOpenURL(_))&&W(!0))}))).apply(this,arguments)}function he(){return(he=c()((function*(){try{var e=yield l.default.get(v.default+"/api/getRecipe/?id="+t.params.id),n=yield e.data;M(n.name),G({uri:""+v.default+n.image,height:"100%",width:"100%"}),Y(n.ingredients),ee(n.source),je(n.minRating,n.maxRating),i.loggedIn&&fe(n.userRating),null!==n.rating?oe(n.rating.toFixed(1)):oe("No Ratings")}catch(r){}}))).apply(this,arguments)}return Object(u.useEffect)((function(){i.checkCred(s,v.default),""!==a.currentRecipeURI&&a.currentRecipeURI!==t.params.id&&r.setParams({id:a.currentRecipeURI}),function(){he.apply(this,arguments)}()}),[H,t.key,a.currentRecipeURI,i.loggedIn,t.params.id]),Object(u.useEffect)((function(){!function(){be.apply(this,arguments)}()}),[_]),Object(k.jsxs)(x.default,{style:y.styles.pageContainer,children:[Object(k.jsx)(S.default,{routeName:t.name,style:z(z({},w.NavBarStyle.container),{},{alignItems:"web"===b.default.OS?"center":"flex-end"})}),Object(k.jsx)(u.Suspense,{fallback:Object(k.jsx)(d.default,{size:"large"}),children:Object(k.jsxs)(x.default,{style:{alignItems:"center"},children:[Object(k.jsx)(O.default,{style:I.recipeName,children:E}),Object(k.jsx)(x.default,{style:z(z({},p.recipeListStyle.foodPicContainer),p.recipeListStyle.foodPic),children:Object(k.jsx)(j.default,{style:{resizeMode:"contain"},source:q})}),Object(k.jsxs)(x.default,{style:I.srcRatingContainer,children:[Object(k.jsx)(h.default,{style:I.source,onPress:c()((function*(){if(U)return g.default.openURL(_)})),children:Object(k.jsx)(O.default,{style:{fontWeight:"bold",fontSize:15},children:U?"Source":"No Source"})}),Object(k.jsxs)(x.default,{style:{alignItems:"center"},children:[Object(k.jsxs)(O.default,{style:{fontSize:20},children:[Object(k.jsx)(R.FontAwesomeIcon,{icon:"star"})," Rating:"," ",ae]}),Object(k.jsx)(x.default,{style:I.ratingsContainer,children:Object(k.jsx)(T,{items:re,renderItems:function(e){var t=e.item,n=e.index;return Object(k.jsx)(h.default,{style:z(z({},I.ratingButton),{},{backgroundColor:de!==t?"#fd5d00":"#00ff0d"}),onPress:function(){return function(e){return ge.apply(this,arguments)}(t)},children:Object(k.jsx)(O.default,{style:{fontWeight:"bold",fontSize:20},children:t})},n)}})})]})]}),Object(k.jsxs)(x.default,{style:{paddingTop:10},children:[Object(k.jsx)(O.default,{style:I.ingredientsHeader,children:"Ingredients"}),Object(k.jsx)(f.default,{data:V,renderItem:function(e){var t=e.item,n=e.index;return Object(k.jsxs)(O.default,{style:{textAlign:"left"},children:[n+1,". ",t]})}})]})]})})]})}}}]);
//# sourceMappingURL=6.4b18682c.chunk.js.map