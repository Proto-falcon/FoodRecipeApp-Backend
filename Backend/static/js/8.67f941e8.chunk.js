(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{238:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return r}));var r=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:20,fontWeight:"bold",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},239:function(e,t,n){"use strict";n.r(t);t.default=""},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return a})),n.d(t,"navBarHeight",(function(){return s})),n.d(t,"platformStyles",(function(){return o})),n.d(t,"changeNavBarPaddingTop",(function(){return i}));var r=n(14),a=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"column",flexBasis:75,padding:10,justifyContent:"center",alignItems:"flex-start"}}),s=100,o="web"!==r.default.OS?{maxHeight:s,minHeight:s}:{};function i(){return"web"!==r.default.OS?40:10}},242:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return r}));var r=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7},listHeaderContainer:{borderRadius:10},listHeader:{width:165,fontSize:20,fontWeight:"bold",textAlign:"center",padding:10},chosenList:{backgroundColor:"#0098ff",color:"#ffffff",borderRadius:10}})},243:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var r=n(7),a=n.n(r),s=n(272),o=n(0),i=n(108),l=n(10),c=n(241),u=n(238),d=n(109),f=n(38),b=n.n(f),j=n(29),g=n(111),h=n(110),p=n(112),y=n(239),O=n(25);function m(){var e=Object(o.useContext)(p.CsrfCtx),t=Object(o.useContext)(d.AccountCtx),n=Object(j.useNavigation)();function r(){return(r=b()((function*(){var r=yield g.default.get(y.default+"/api/logout/"),a=yield r.data;a.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(a.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(O.jsx)(h.default,{style:{padding:5},onPress:function(){return r.apply(this,arguments)},children:Object(O.jsx)(i.default,{style:u.styles.navText,children:"Sign Out"})})}var x=n(244),S=n(242);function v(e){return e.show?Object(O.jsx)(s.default,{to:{screen:"Search"},style:S.SearchStyle.imgContainer,children:Object(O.jsx)(x.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}var w=n(240);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=Object(o.useContext)(d.AccountCtx);function n(e){return e.show?Object(O.jsx)(s.default,{to:{screen:"Login",params:{toLogin:!0}},style:u.styles.navLink,children:Object(O.jsx)(i.default,{style:u.styles.navText,children:"Login"})}):void 0}function r(e){return e.show?Object(O.jsx)(s.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:u.styles.navLink,children:Object(O.jsx)(i.default,{style:u.styles.navText,children:"Sign Up"})}):void 0}return Object(O.jsxs)(l.default,{style:k(k({},e.style),{},{paddingTop:Object(w.changeNavBarPaddingTop)()},w.platformStyles),children:[Object(O.jsx)(l.default,{children:t.loggedIn&&Object(O.jsxs)(i.default,{style:u.styles.usernameText,children:["Username: ",t.username]})}),Object(O.jsxs)(l.default,{style:{flexDirection:"row"},children:[Object(O.jsxs)(l.default,{style:{flexDirection:"row",width:.5*Object(c.default)().width},children:["Home"!==e.routeName&&Object(O.jsx)(s.default,{style:u.styles.navLink,to:{screen:"Home"},children:Object(O.jsx)(i.default,{style:u.styles.navText,children:"Home"})}),t.loggedIn&&"Profile"!==e.routeName&&Object(O.jsx)(s.default,{style:u.styles.navLink,to:{screen:"Profile"},children:Object(O.jsx)(i.default,{style:u.styles.navText,children:"Profile"})})]}),Object(O.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"flex-end",width:.48*Object(c.default)().width},children:[Object(O.jsx)((function(e){return e.isLoggedIn?Object(O.jsx)(m,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(n,{show:"Login"!==e.route}),Object(O.jsx)(r,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(O.jsx)(v,{show:"Search"!==e.routeName})]})]})]})}},248:function(e,t,n){"use strict";n.r(t),n.d(t,"FormStyle",(function(){return r}));var r=n(9).default.create({formInput:{padding:5,marginTop:10,borderWidth:2,borderRadius:20},formLabel:{marginRight:10,textAlign:"left",fontWeight:"bold"},submitButton:{padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00"}})},279:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var r=n(7),a=n.n(r),s=n(38),o=n.n(s),i=n(8),l=n.n(i),c=n(111),u=n(0),d=n(113),f=n(14),b=n(64),j=n(241),g=n(10),h=n(238),p=n(248),y=n(9).default.create({userField:{textAlign:"center",fontSize:25},submitButton:{backgroundColor:"#ff9100",fontWeight:"bold",padding:10,margin:10,borderRadius:15,backgroundColor:"#fd5d00",width:150}}),O=n(109),m=n(112),x=n(239),S=n(243),v=n(240),w=n(25);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=Object(u.lazy)((function(){return n.e(14).then(n.bind(null,276))})),T=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,268))})),I=/^([a-zA-Z0-9]+\.?[a-zA-Z0-9]*)@[a-zA-Z0-9^\.]+\.([a-zA-Z]+\.?[a-zA-Z]*)$/;function F(e){var t=e.route,n=(e.navigation,Object(u.useContext)(m.CsrfCtx)),r=Object(u.useContext)(O.AccountCtx),a=Object(u.useState)(""),s=l()(a,2),i=s[0],C=s[1],F=Object(u.useState)(""),L=l()(F,2),z=L[0],B=L[1],H=Object(u.useState)(""),U=l()(H,2),A=U[0],D=U[1],E=Object(u.useState)(Object(j.default)().width),R=l()(E,2),N=R[0],W=(R[1],Object(u.useState)(!1)),V=l()(W,2),M=V[0],Z=V[1],X=Object(u.useState)(!1),Y=l()(X,2),J=Y[0],$=Y[1],q=Object(u.useState)(!1),G=l()(q,2),K=G[0],Q=G[1],_=Object(u.useState)(!1),ee=l()(_,2),te=ee[0],ne=ee[1],re=Object(u.useState)("red"),ae=l()(re,2),se=ae[0],oe=ae[1],ie=Object(u.useState)(""),le=l()(ie,2),ce=le[0],ue=le[1],de=Object(u.useState)(!0),fe=l()(de,2),be=fe[0];fe[1];function je(){return(je=o()((function*(){if(""!==i)try{var e=yield c.default.put(x.default+"/api/updateUserInfo/",{username:i},{headers:{"X-CSRFToken":n.token,credentials:"include"},withCredentials:!0,responseType:"json"}),t=yield e.data;r.setUsername(i);var a="";for(var s in t)a=t[s];pe(a,0,!1)}catch(o){pe(o.response.data.message,0,!0)}else pe("You haven't entered a username",0,!0)}))).apply(this,arguments)}function ge(){return(ge=o()((function*(){if(""!==z&&null!==z.match(I))try{var e=yield c.default.put(x.default+"/api/updateUserInfo/",{email:z},{headers:{"X-CSRFToken":n.token,credentials:"include"},withCredentials:!0,responseType:"json"}),t=yield e.data;r.setEmail(z);var a="";for(var s in t)a=t[s];pe(a,1,!1)}catch(o){pe(o.response.data.message,1,!0)}else pe("You haven't entered a valid email",1,!0)}))).apply(this,arguments)}function he(){return(he=o()((function*(){if(""!==A)try{var e=yield c.default.put(x.default+"/api/updateUserInfo/",{password:A},{headers:{"X-CSRFToken":n.token,credentials:"include"},withCredentials:!0,responseType:"json"}),t=yield e.data,r="";for(var a in t)r=t[a];pe(r,2,!1)}catch(s){pe(s.response.data.message,2,!0)}else pe("You haven't entered a password",2,!0)}))).apply(this,arguments)}function pe(e,t,n){switch(oe(n?"red":"green"),t){case 0:Z(!0),$(!1),Q(!1);break;case 1:Z(!1),$(!0),Q(!1);break;case 2:Z(!1),$(!1),Q(!0);break;default:Z(!1),$(!1),Q(!1)}ue(e)}Object(u.useEffect)((function(){r.checkCred(n,x.default)}),[be,t.key]);var ye=N<700?.7*N:.3*N;return Object(w.jsxs)(g.default,{style:h.styles.pageContainer,children:[Object(w.jsx)(S.default,{routeName:t.name,style:k({},v.NavBarStyle.container)}),Object(w.jsx)(u.Suspense,{fallback:Object(w.jsx)(d.default,{size:"large"}),children:Object(w.jsx)(g.default,{children:Object(w.jsx)(b.default,{children:Object(w.jsxs)(g.default,{style:{alignItems:"center",paddingBottom:Object(j.default)().height*(te&&"web"!=f.default.OS?.3:0)},children:[Object(w.jsx)(P,{containerStyle:{alignItems:"center"},label:"Username:",labelStyle:k(k({},y.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:r.username,labelValueStyle:y.userField,placeholder:"Please enter new username",onChangeText:function(e){C(e)},inputPromptStyle:k(k({},p.FormStyle.formInput),{},{width:ye}),submitText:"Update Username",submitHandler:function(){return je.apply(this,arguments)},submitStyle:y.submitButton}),Object(w.jsx)(T,{style:k(k({},h.styles.errorMsg),{},{backgroundColor:se}),hasError:M,message:ce}),Object(w.jsx)(P,{containerStyle:{alignItems:"center"},label:"Email:",labelStyle:k(k({},y.userField),{},{fontWeight:"bold"}),labelValueHidden:!1,labelValue:r.email,labelValueStyle:y.userField,placeholder:"Please enter new email",onChangeText:function(e){B(e)},inputPromptStyle:k(k({},p.FormStyle.formInput),{},{width:ye}),submitText:"Update Email",submitHandler:function(){return ge.apply(this,arguments)},submitStyle:y.submitButton}),Object(w.jsx)(T,{style:k(k({},h.styles.errorMsg),{},{backgroundColor:se}),hasError:J,message:ce}),Object(w.jsx)(P,{containerStyle:{alignItems:"center"},label:"Password:",labelStyle:k(k({},y.userField),{},{fontWeight:"bold"}),labelValueHidden:!0,onBlurCallBack:function(){return ne(!1)},onFocusCallBack:function(){return ne(!0)},placeholder:"Please enter new Password",onChangeText:function(e){D(e)},inputPromptStyle:k(k({},p.FormStyle.formInput),{},{width:ye}),submitText:"Update Password",submitHandler:function(){return he.apply(this,arguments)},submitStyle:y.submitButton}),Object(w.jsx)(T,{style:k(k({},h.styles.errorMsg),{},{backgroundColor:se}),hasError:K,message:ce})]})})})})]})}}}]);
//# sourceMappingURL=8.67f941e8.chunk.js.map