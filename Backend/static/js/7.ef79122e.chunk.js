(this.webpackJsonp=this.webpackJsonp||[]).push([[7],{237:function(e,t,n){"use strict";n.r(t),n.d(t,"styles",(function(){return i}));var i=n(9).default.create({searchIcon:{height:20,width:20,resizeMode:"contain",marginRight:10},navLink:{padding:5},navText:{color:"white",fontSize:18,fontWeight:"500",marginLeft:10},usernameText:{color:"black",fontSize:12,fontWeight:"400",marginLeft:10,marginTop:5},pageContainer:{flex:1,backgroundColor:"#ffffff"},errorMsg:{color:"white",backgroundColor:"red",padding:10,fontWeight:"bold",fontSize:20,borderRadius:20}})},238:function(e,t,n){"use strict";n.r(t);t.default=""},239:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStyle",(function(){return i}));var i=n(9).default.create({container:{alignItems:"center"},imgContainer:{margin:7}})},240:function(e,t,n){"use strict";n.r(t),n.d(t,"NavBarStyle",(function(){return i}));var i=n(9).default.create({container:{backgroundColor:"#fd5d00",flexDirection:"row",flexBasis:75,padding:10,justifyContent:"space-between"}})},242:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(271),r=n(0),s=n(97),c=n(10),a=n(237),l=n(108),o=n(38),d=n.n(o),u=n(29),f=n(111),j=n(109),b=n(110),g=n(238),h=n(25);function x(){var e=Object(r.useContext)(b.CsrfCtx),t=Object(r.useContext)(l.AccountCtx),n=Object(u.useNavigation)();function i(){return(i=d()((function*(){var i=yield f.default.get(g.default+"/api/logout/"),r=yield i.data;r.loggedOut&&(t.logOut(),t.setUsername(""),t.setEmail(""),e.setCsrfToken(r.token),n.navigate("Home"))}))).apply(this,arguments)}return Object(h.jsx)(j.default,{style:{padding:5},onPress:function(){return i.apply(this,arguments)},children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Sign Out"})})}var y=n(241),O=n(239);function p(e){return e.show?Object(h.jsx)(i.default,{to:{screen:"Search"},style:O.SearchStyle.imgContainer,children:Object(h.jsx)(y.FontAwesomeIcon,{icon:"magnifying-glass",size:20})}):void 0}function m(e){var t=Object(r.useContext)(l.AccountCtx);function n(e){return e.show?Object(h.jsx)(i.default,{to:{screen:"Login",params:{toLogin:!0}},style:a.styles.navLink,children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Login"})}):void 0}function o(e){return e.show?Object(h.jsx)(i.default,{to:{screen:"SignUp",params:{toLogin:!1}},style:a.styles.navLink,children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Sign Up"})}):void 0}return Object(h.jsxs)(c.default,{style:e.style,children:[Object(h.jsxs)(c.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.show?Object(h.jsx)(i.default,{style:a.styles.navLink,to:{screen:"Home"},children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Home"})}):void 0}),{show:"Home"!==e.routeName}),Object(h.jsx)((function(e){if(e.isLoggedIn&&"Profile"!==e.route)return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.default,{style:a.styles.navLink,to:{screen:"Profile"},children:Object(h.jsx)(s.default,{style:a.styles.navText,children:"Profile"})}),Object(h.jsxs)(s.default,{style:a.styles.usernameText,children:["Username: ",t.username]})]})}),{isLoggedIn:t.loggedIn,route:e.routeName})]}),Object(h.jsxs)(c.default,{style:{flexDirection:"row"},children:[Object(h.jsx)((function(e){return e.isLoggedIn?Object(h.jsx)(x,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n,{show:"Login"!==e.route}),Object(h.jsx)(o,{show:"SignUp"!==e.route})]})}),{isLoggedIn:t.loggedIn,route:e.routeName}),Object(h.jsx)(p,{show:"Search"!==e.routeName})]})]})}},245:function(e,t,n){"use strict";n.r(t),n.d(t,"recipeListStyle",(function(){return i}));var i=n(9).default.create({foodPicContainer:{alignItems:"center"},foodPic:{height:200,width:"100%",resizeMode:"contain"},nameRatingContainer:{marginTop:20,marginBottom:20,borderWidth:1,padding:10},foodName:{fontWeight:"bold",textAlign:"center"}})},277:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var i=n(7),r=n.n(i),s=n(38),c=n.n(s),a=n(8),l=n.n(a),o=n(111),d=n(0),u=n(112),f=n(48),j=n(247),b=n(14),g=n(109),h=n(64),x=n(97),y=n(243),O=n(10),p=n(237),m=n(245),v=n(108),C=n(238),S=n(242),w=n(110),I=n(240),R=n(241),L=n(9).default.create({recipeName:{textAlign:"center",fontSize:30,fontWeight:"bold",textDecorationLine:"underline"},srcRatingContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"flex-end",width:"70%"},source:{backgroundColor:"#fd5d00",margin:10,padding:10,borderRadius:20,alignItems:"center",maxHeight:45},cautionsText:{color:"#951831",fontWeight:"bold"},ratingsContainer:{alignItems:"center",borderWidth:2},cautionsHeader:{fontSize:30,textDecorationLine:"underline",textAlign:"center"},nutrientRow:{flexDirection:"row",justifyContent:"space-between"},nutrientCell:{padding:3,flex:1,flexBasis:150},ratingButton:{width:33,padding:10},ingredientsHeader:{fontWeight:"bold",fontSize:20,textDecorationLine:"underline",textAlign:"center"}}),W=n(113),k=n(25);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=Object(d.lazy)((function(){return n.e(3).then(n.bind(null,254))})),N=Object(d.lazy)((function(){return n.e(2).then(n.bind(null,274))}));function D(e){var t=e.route,i=e.navigation,r=Object(d.useContext)(v.AccountCtx),s=Object(d.useContext)(w.CsrfCtx),a=Object(d.useContext)(W.RecipeResultsCtx),T=Object(d.useState)(!1),D=l()(T,2),A=D[0],U=D[1],B=Object(d.useState)(!0),H=l()(B,2),F=H[0],E=(H[1],Object(d.useState)("Recipe Unavailable")),M=l()(E,2),q=M[0],J=M[1],Q=Object(d.useState)(n(178)),X=l()(Q,2),G=X[0],K=X[1],V=Object(d.useState)([]),Y=l()(V,2),Z=Y[0],$=Y[1],_=Object(d.useState)(""),ee=l()(_,2),te=ee[0],ne=ee[1],ie=Object(d.useState)([]),re=l()(ie,2),se=re[0],ce=re[1],ae=Object(d.useState)({}),le=l()(ae,2),oe=le[0],de=le[1],ue=Object(d.useState)("0.0"),fe=l()(ue,2),je=fe[0],be=fe[1],ge=Object(d.useState)([]),he=l()(ge,2),xe=he[0],ye=he[1],Oe=Object(d.useState)([0,1]),pe=l()(Oe,2),me=pe[0],ve=pe[1],Ce=Object(d.useState)("0.0"),Se=l()(Ce,2),we=Se[0],Ie=Se[1],Re=Object(d.useState)(0),Le=l()(Re,2),We=Le[0],ke=Le[1];function Te(e,t){if(e>t)ve([e]);else{for(var n=[],i=e;i<=t;i++)n.push(i);ve(n)}}function Pe(){return(Pe=c()((function*(e){ke(e);try{yield o.default.put(C.default+"/api/setRating/",{id:t.params.id,rating:e},{headers:{"X-CSRFToken":s.token,credentials:"include"},withCredentials:!0,responseType:"json"})}catch(n){}}))).apply(this,arguments)}function ze(){return(ze=c()((function*(){te.length>0&&((yield j.default.canOpenURL(te))&&U(!0))}))).apply(this,arguments)}function Ne(){return(Ne=c()((function*(){try{var e=yield o.default.get(C.default+"/api/getRecipe/?id="+t.params.id),n=yield e.data;J(n.name),K({uri:""+C.default+n.image,height:"100%",width:"100%"}),$(n.ingredients),ne(n.source),ce(n.cautions),de([{category:"Diets",values:n.diets},{category:"Healths",values:n.healths},{category:"Cuisines",values:n.cuisineTypes},{category:"Meals Types",values:n.mealTypes},{category:"Dish Types",values:n.dishTypes}]);var i=[];n.nutrients.forEach((function(e){"Energy"===e.label?be(Math.round(e.quantity)+" "+e.unit):i.push(e)})),ye(i),Te(n.minRating,n.maxRating),r.loggedIn&&ke(n.userRating),null!==n.rating?Ie(n.rating.toFixed(1)):Ie("No Ratings")}catch(s){}}))).apply(this,arguments)}return Object(d.useEffect)((function(){r.checkCred(s,C.default),""!==a.currentRecipeURI&&a.currentRecipeURI!==t.params.id&&i.setParams({id:a.currentRecipeURI}),function(){Ne.apply(this,arguments)}()}),[F,t.key,a.currentRecipeURI,t.params.id]),Object(d.useEffect)((function(){!function(){ze.apply(this,arguments)}()}),[te]),Object(k.jsxs)(O.default,{style:p.styles.pageContainer,children:[Object(k.jsx)(S.default,{routeName:t.name,style:P(P({},I.NavBarStyle.container),{},{alignItems:"web"===b.default.OS?"center":"flex-end"})}),Object(k.jsx)(d.Suspense,{fallback:Object(k.jsx)(u.default,{size:"large"}),children:Object(k.jsxs)(h.default,{contentContainerStyle:{alignItems:"center"},children:[Object(k.jsx)(x.default,{style:L.recipeName,children:q}),Object(k.jsx)(O.default,{style:P(P({},m.recipeListStyle.foodPicContainer),m.recipeListStyle.foodPic),children:Object(k.jsx)(f.default,{style:{resizeMode:"contain"},source:G})}),Object(k.jsxs)(O.default,{style:L.srcRatingContainer,children:[Object(k.jsx)(g.default,{style:L.source,onPress:c()((function*(){if(A)return j.default.openURL(te)})),children:Object(k.jsx)(x.default,{style:{fontWeight:"bold",fontSize:15},children:A?"Source":"No Source"})}),Object(k.jsxs)(O.default,{style:{alignItems:"center"},children:[Object(k.jsxs)(x.default,{style:{fontSize:20},children:[Object(k.jsx)(R.FontAwesomeIcon,{icon:"star"})," Overal Rating:"," ",we]}),Object(k.jsx)(O.default,{style:L.ratingsContainer,children:Object(k.jsx)(z,{items:me,renderItems:function(e){var t=e.item,n=e.index;return Object(k.jsx)(g.default,{style:P(P({},L.ratingButton),{},{backgroundColor:We!==t?"#fd5d00":"#00ff0d"}),onPress:function(){return function(e){return Pe.apply(this,arguments)}(t)},children:Object(k.jsx)(x.default,{style:{fontWeight:"bold",fontSize:20},children:t})},n)}})})]})]}),Object(k.jsxs)(O.default,{style:{alignItems:"center"},children:[se.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.default,{style:P(P({},L.cautionsText),L.cautionsHeader),children:"Cautions"}),Object(k.jsx)(z,{style:{borderWidth:2,backgroundColor:"#951831"},items:se,renderItems:function(e){var t=e.item,n=e.index;return Object(k.jsx)(x.default,{style:{color:"white",fontWeight:"bold",textAlign:"center",flex:1,padding:3,fontSize:20},children:t},n)}})]}):void 0,Object(k.jsxs)(x.default,{style:P(P({},L.recipeName),{},{textDecorationLine:"none"}),children:["Calories: ",je]}),Object(k.jsx)(O.default,{style:{borderWidth:2,borderBottomWidth:0,width:Object(y.default)().width<700?"100%":"50%"},children:Object(k.jsx)(N,{data:oe,renderItem:function(e){var t=e.item,n=e.index;return Object(k.jsxs)(O.default,{style:{borderBottomWidth:1},children:[Object(k.jsx)(x.default,{style:P(P({},L.recipeName),{},{fontSize:20}),children:t.category}),Object(k.jsx)(O.default,{style:{justifyContent:"center",alignItems:"center"},children:Object(k.jsx)(z,{style:{justifyContent:"center"},items:t.values,renderItems:function(e){var t=e.item,n=e.index;return Object(k.jsx)(x.default,{style:{padding:3},children:t},n)}})})]},n)}})})]}),Object(k.jsxs)(O.default,{style:{paddingTop:10},children:[Object(k.jsx)(x.default,{style:L.ingredientsHeader,children:"Ingredients"}),Object(k.jsx)(N,{data:Z,renderItem:function(e){var t=e.item,n=e.index;return Object(k.jsxs)(x.default,{style:{textAlign:"left"},children:[n+1,". ",t]},n)}})]}),Object(k.jsx)(O.default,{children:Object(k.jsx)(x.default,{style:P({},L.recipeName),children:"Nutrient Information"})}),Object(k.jsx)(O.default,{style:{borderWidth:2,borderBottomWidth:0,marginTop:10,width:Object(y.default)().width<700?"100%":"50%"},children:Object(k.jsx)(N,{data:[{label:"Label",quantity:"Quantity",unit:"(Units)"}].concat(xe),renderItem:function(e){var t=e.item,n=e.index;return"number"===typeof t.quantity?Object(k.jsxs)(O.default,{style:P(P({},L.nutrientRow),{},{borderBottomWidth:1}),children:[Object(k.jsx)(x.default,{style:P(P({},L.nutrientCell),{},{textAlign:"left",borderRightWidth:2}),children:t.label}),Object(k.jsxs)(x.default,{style:P(P({},L.nutrientCell),{},{textAlign:"right"}),children:[t.quantity.toFixed(1),t.unit]})]},n):Object(k.jsxs)(O.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:2},children:[Object(k.jsx)(x.default,{style:P(P({},L.nutrientCell),{},{textAlign:"left",fontWeight:"bold",borderRightWidth:2}),children:t.label}),Object(k.jsxs)(x.default,{style:P(P({},L.nutrientCell),{},{textAlign:"right",fontWeight:"bold"}),children:[t.quantity,t.unit]})]},n)}})})]})})]})}}}]);
//# sourceMappingURL=7.ef79122e.chunk.js.map